{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {
    "collapsed": true
   },
   "source": [
    "# <img src=\"http://oci02.img.iteso.mx/identidad_de_instancia_2018/ITESO/Logos%20ITESO/Logo-ITESO-Principal.jpg\">"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<font color= #555555> <font size = 5> Abstract </font>\n",
    "    \n",
    "<font color= #6B6B6B> <font size = 2> Este documento fue elaborado por Luis María Ramírez de la Rosa, como un trabajo parcial para la materia de Microestructura y Sistemas de Trading - IF691761, la cual es parte del curriculum de la licenciatura en Ingeniería Financiera, ofertada por la universidad ITESO. En el presente trabajo se plantea la respuesta a la siguiente pregutna: ¿Qué estrategia de inversión propondrías si tu trabajo fuera administrar 1 Millón de pesos?</font>\n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<font color= #6B6B6B> <font size = 6> 0. Librerías y Dependencias </font>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "metadata": {},
   "outputs": [],
   "source": [
    "import time\n",
    "import numpy as np\n",
    "import pandas as pd\n",
    "import yfinance as yf\n",
    "import os\n",
    "from plotly import graph_objs as go\n",
    "import plotly.offline as pyo\n",
    "import warnings\n",
    "\n",
    "pd.set_option('display.max_rows', None)          \n",
    "pd.set_option('display.max_columns', None)       \n",
    "pd.set_option('display.width', None)             \n",
    "pd.set_option('display.expand_frame_repr', False)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<font color= #6B6B6B> <font size = 5> 0.1 Librerías </font> <font color= #555555>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Para correr este notebook es necesario tener instaladas y/o en el archivo requirements.txt las siguientes librerías :\n",
    "\n",
    "pandas>=1.1.1 <br>\n",
    "numpy>=1.19.1<br>\n",
    "jupyter>=1.0.0<br>\n",
    "yfinance>=0.1.54<br>\n",
    "plotly>=4.5.0<br>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<font color= #6B6B6B> <font size = 5> 0.2 Dependencias </font> <font color= #555555>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Para correr este notebook es necesario contar con los siguientes archivos y dependencias externas:\n",
    "\n",
    "files/precios.csv : Precios históricos <br>\n",
    "files/datos.txt : Otros datos históricos<br>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "\n",
    "<font color= #6B6B6B> <font size = 6> 1. Introducción </font>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "El siguiente proyecto tiene la finalidad de crear dos escenarios. El primer de ellos será una inversión pásiva simplemente se fijen unas ponderaciones iniciales y se pueda ver el capital en el transcurso del tiempo y el segundo escenario será una inversión activa, es decir, una gestión del portafolio con el fin de maximizar el rendimiento a través de distintas políticas de decisión."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<font color= #6B6B6B> <font size = 6> 2. Objetivos </font>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "El principal objetivo será maximizar el rendimiento a través de políticas de rebalanceo optadas de manera personal."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<font color= #6B6B6B> <font size = 6> 3. Datos </font>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>AC.MX</th>\n",
       "      <th>ALFAA.MX</th>\n",
       "      <th>ALPEKA.MX</th>\n",
       "      <th>ALSEA.MX</th>\n",
       "      <th>AMXL.MX</th>\n",
       "      <th>ASURB.MX</th>\n",
       "      <th>BBAJIOO.MX</th>\n",
       "      <th>BIMBOA.MX</th>\n",
       "      <th>BOLSAA.MX</th>\n",
       "      <th>CEMEXCPO.MX</th>\n",
       "      <th>CUERVO.MX</th>\n",
       "      <th>ELEKTRA.MX</th>\n",
       "      <th>FEMSAUBD.MX</th>\n",
       "      <th>GAPB.MX</th>\n",
       "      <th>GCARSOA1.MX</th>\n",
       "      <th>GCC.MX</th>\n",
       "      <th>GENTERA.MX</th>\n",
       "      <th>GFINBURO.MX</th>\n",
       "      <th>GFNORTEO.MX</th>\n",
       "      <th>GMEXICOB.MX</th>\n",
       "      <th>GMXT.MX</th>\n",
       "      <th>GRUMAB.MX</th>\n",
       "      <th>IENOVA.MX</th>\n",
       "      <th>KIMBERA.MX</th>\n",
       "      <th>LABB.MX</th>\n",
       "      <th>LALAB.MX</th>\n",
       "      <th>LIVEPOLC-1.MX</th>\n",
       "      <th>MEGACPO.MX</th>\n",
       "      <th>NEMAKA.MX</th>\n",
       "      <th>OMAB.MX</th>\n",
       "      <th>ORBIA.MX</th>\n",
       "      <th>PE&amp;OLES.MX</th>\n",
       "      <th>PINFRA.MX</th>\n",
       "      <th>Q.MX</th>\n",
       "      <th>RA.MX</th>\n",
       "      <th>TLEVISACPO.MX</th>\n",
       "      <th>VESTA.MX</th>\n",
       "      <th>VOLARA.MX</th>\n",
       "      <th>WALMEX.MX</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Date</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>2018-01-31</th>\n",
       "      <td>126.668678</td>\n",
       "      <td>23.240328</td>\n",
       "      <td>26.711006</td>\n",
       "      <td>60.197136</td>\n",
       "      <td>16.494476</td>\n",
       "      <td>351.718445</td>\n",
       "      <td>37.543682</td>\n",
       "      <td>43.916134</td>\n",
       "      <td>31.107864</td>\n",
       "      <td>15.089149</td>\n",
       "      <td>32.248245</td>\n",
       "      <td>662.689514</td>\n",
       "      <td>172.468597</td>\n",
       "      <td>169.949356</td>\n",
       "      <td>67.944931</td>\n",
       "      <td>102.849609</td>\n",
       "      <td>15.746818</td>\n",
       "      <td>31.269468</td>\n",
       "      <td>109.758110</td>\n",
       "      <td>57.569347</td>\n",
       "      <td>30.784256</td>\n",
       "      <td>208.330856</td>\n",
       "      <td>96.689491</td>\n",
       "      <td>31.181343</td>\n",
       "      <td>20.450001</td>\n",
       "      <td>27.036175</td>\n",
       "      <td>132.993576</td>\n",
       "      <td>79.104218</td>\n",
       "      <td>15.384555</td>\n",
       "      <td>81.623932</td>\n",
       "      <td>48.725704</td>\n",
       "      <td>398.036224</td>\n",
       "      <td>181.237656</td>\n",
       "      <td>43.759052</td>\n",
       "      <td>109.018150</td>\n",
       "      <td>75.869972</td>\n",
       "      <td>23.287041</td>\n",
       "      <td>15.930000</td>\n",
       "      <td>44.382515</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-02-28</th>\n",
       "      <td>122.719963</td>\n",
       "      <td>22.307274</td>\n",
       "      <td>24.284540</td>\n",
       "      <td>63.539227</td>\n",
       "      <td>16.399899</td>\n",
       "      <td>324.345734</td>\n",
       "      <td>39.185562</td>\n",
       "      <td>42.668297</td>\n",
       "      <td>30.514006</td>\n",
       "      <td>12.135653</td>\n",
       "      <td>33.114929</td>\n",
       "      <td>546.766479</td>\n",
       "      <td>165.817642</td>\n",
       "      <td>159.058411</td>\n",
       "      <td>64.412422</td>\n",
       "      <td>97.852432</td>\n",
       "      <td>14.374687</td>\n",
       "      <td>28.601168</td>\n",
       "      <td>103.865425</td>\n",
       "      <td>56.575596</td>\n",
       "      <td>28.280983</td>\n",
       "      <td>204.488495</td>\n",
       "      <td>89.004959</td>\n",
       "      <td>30.646040</td>\n",
       "      <td>20.389999</td>\n",
       "      <td>25.340925</td>\n",
       "      <td>124.247032</td>\n",
       "      <td>77.506531</td>\n",
       "      <td>13.275859</td>\n",
       "      <td>79.149193</td>\n",
       "      <td>49.103062</td>\n",
       "      <td>380.125275</td>\n",
       "      <td>182.757645</td>\n",
       "      <td>46.657509</td>\n",
       "      <td>109.234459</td>\n",
       "      <td>63.546768</td>\n",
       "      <td>23.523182</td>\n",
       "      <td>16.780001</td>\n",
       "      <td>42.170006</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-03-28</th>\n",
       "      <td>117.908333</td>\n",
       "      <td>23.203951</td>\n",
       "      <td>25.119879</td>\n",
       "      <td>62.817410</td>\n",
       "      <td>16.314777</td>\n",
       "      <td>297.536224</td>\n",
       "      <td>37.142757</td>\n",
       "      <td>38.479816</td>\n",
       "      <td>30.339342</td>\n",
       "      <td>11.726258</td>\n",
       "      <td>35.143539</td>\n",
       "      <td>506.159180</td>\n",
       "      <td>157.551483</td>\n",
       "      <td>156.883728</td>\n",
       "      <td>62.310425</td>\n",
       "      <td>96.006714</td>\n",
       "      <td>12.377166</td>\n",
       "      <td>28.572678</td>\n",
       "      <td>102.002151</td>\n",
       "      <td>53.234699</td>\n",
       "      <td>29.041370</td>\n",
       "      <td>195.463654</td>\n",
       "      <td>88.626213</td>\n",
       "      <td>30.369467</td>\n",
       "      <td>19.700001</td>\n",
       "      <td>22.697613</td>\n",
       "      <td>130.811783</td>\n",
       "      <td>77.998840</td>\n",
       "      <td>14.804258</td>\n",
       "      <td>76.176048</td>\n",
       "      <td>51.705048</td>\n",
       "      <td>338.895996</td>\n",
       "      <td>171.699844</td>\n",
       "      <td>47.353882</td>\n",
       "      <td>105.256310</td>\n",
       "      <td>56.966511</td>\n",
       "      <td>24.513155</td>\n",
       "      <td>14.650000</td>\n",
       "      <td>44.336006</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-04-30</th>\n",
       "      <td>121.238014</td>\n",
       "      <td>23.921288</td>\n",
       "      <td>26.661280</td>\n",
       "      <td>69.559998</td>\n",
       "      <td>16.371521</td>\n",
       "      <td>326.579041</td>\n",
       "      <td>38.197552</td>\n",
       "      <td>42.107250</td>\n",
       "      <td>31.509602</td>\n",
       "      <td>11.404591</td>\n",
       "      <td>30.172016</td>\n",
       "      <td>506.089722</td>\n",
       "      <td>173.102539</td>\n",
       "      <td>169.905701</td>\n",
       "      <td>65.395294</td>\n",
       "      <td>106.865021</td>\n",
       "      <td>13.954648</td>\n",
       "      <td>29.588722</td>\n",
       "      <td>107.408371</td>\n",
       "      <td>54.658974</td>\n",
       "      <td>27.346527</td>\n",
       "      <td>216.147125</td>\n",
       "      <td>82.057991</td>\n",
       "      <td>30.635752</td>\n",
       "      <td>18.190001</td>\n",
       "      <td>21.954180</td>\n",
       "      <td>120.462685</td>\n",
       "      <td>79.884483</td>\n",
       "      <td>13.981798</td>\n",
       "      <td>85.104065</td>\n",
       "      <td>54.288437</td>\n",
       "      <td>362.223572</td>\n",
       "      <td>182.054642</td>\n",
       "      <td>50.454239</td>\n",
       "      <td>115.383812</td>\n",
       "      <td>66.117798</td>\n",
       "      <td>25.849352</td>\n",
       "      <td>11.690000</td>\n",
       "      <td>50.202492</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                 AC.MX   ALFAA.MX  ALPEKA.MX   ALSEA.MX    AMXL.MX    ASURB.MX  BBAJIOO.MX  BIMBOA.MX  BOLSAA.MX  CEMEXCPO.MX  CUERVO.MX  ELEKTRA.MX  FEMSAUBD.MX     GAPB.MX  GCARSOA1.MX      GCC.MX  GENTERA.MX  GFINBURO.MX  GFNORTEO.MX  GMEXICOB.MX    GMXT.MX   GRUMAB.MX  IENOVA.MX  KIMBERA.MX    LABB.MX   LALAB.MX  LIVEPOLC-1.MX  MEGACPO.MX  NEMAKA.MX    OMAB.MX   ORBIA.MX  PE&OLES.MX   PINFRA.MX       Q.MX       RA.MX  TLEVISACPO.MX   VESTA.MX  VOLARA.MX  WALMEX.MX\n",
       "Date                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    \n",
       "2018-01-31  126.668678  23.240328  26.711006  60.197136  16.494476  351.718445   37.543682  43.916134  31.107864    15.089149  32.248245  662.689514   172.468597  169.949356    67.944931  102.849609   15.746818    31.269468   109.758110    57.569347  30.784256  208.330856  96.689491   31.181343  20.450001  27.036175     132.993576   79.104218  15.384555  81.623932  48.725704  398.036224  181.237656  43.759052  109.018150      75.869972  23.287041  15.930000  44.382515\n",
       "2018-02-28  122.719963  22.307274  24.284540  63.539227  16.399899  324.345734   39.185562  42.668297  30.514006    12.135653  33.114929  546.766479   165.817642  159.058411    64.412422   97.852432   14.374687    28.601168   103.865425    56.575596  28.280983  204.488495  89.004959   30.646040  20.389999  25.340925     124.247032   77.506531  13.275859  79.149193  49.103062  380.125275  182.757645  46.657509  109.234459      63.546768  23.523182  16.780001  42.170006\n",
       "2018-03-28  117.908333  23.203951  25.119879  62.817410  16.314777  297.536224   37.142757  38.479816  30.339342    11.726258  35.143539  506.159180   157.551483  156.883728    62.310425   96.006714   12.377166    28.572678   102.002151    53.234699  29.041370  195.463654  88.626213   30.369467  19.700001  22.697613     130.811783   77.998840  14.804258  76.176048  51.705048  338.895996  171.699844  47.353882  105.256310      56.966511  24.513155  14.650000  44.336006\n",
       "2018-04-30  121.238014  23.921288  26.661280  69.559998  16.371521  326.579041   38.197552  42.107250  31.509602    11.404591  30.172016  506.089722   173.102539  169.905701    65.395294  106.865021   13.954648    29.588722   107.408371    54.658974  27.346527  216.147125  82.057991   30.635752  18.190001  21.954180     120.462685   79.884483  13.981798  85.104065  54.288437  362.223572  182.054642  50.454239  115.383812      66.117798  25.849352  11.690000  50.202492"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# En esta sección es opcional incluir código para mostrar/visualizar\n",
    "# los datos con los que se trabajó en el laboratorio\n",
    "precios = pd.read_csv(\"precios.csv\", index_col = \"Date\")\n",
    "precios.head(4)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>AC.MX</th>\n",
       "      <th>ALFAA.MX</th>\n",
       "      <th>ALPEKA.MX</th>\n",
       "      <th>ALSEA.MX</th>\n",
       "      <th>AMXL.MX</th>\n",
       "      <th>ASURB.MX</th>\n",
       "      <th>BBAJIOO.MX</th>\n",
       "      <th>BIMBOA.MX</th>\n",
       "      <th>BOLSAA.MX</th>\n",
       "      <th>CEMEXCPO.MX</th>\n",
       "      <th>CUERVO.MX</th>\n",
       "      <th>ELEKTRA.MX</th>\n",
       "      <th>FEMSAUBD.MX</th>\n",
       "      <th>GAPB.MX</th>\n",
       "      <th>GCARSOA1.MX</th>\n",
       "      <th>GCC.MX</th>\n",
       "      <th>GENTERA.MX</th>\n",
       "      <th>GFINBURO.MX</th>\n",
       "      <th>GFNORTEO.MX</th>\n",
       "      <th>RA.MX</th>\n",
       "      <th>GMEXICOB.MX</th>\n",
       "      <th>GMXT.MX</th>\n",
       "      <th>GRUMAB.MX</th>\n",
       "      <th>IENOVA.MX</th>\n",
       "      <th>KIMBERA.MX</th>\n",
       "      <th>LABB.MX</th>\n",
       "      <th>LALAB.MX</th>\n",
       "      <th>LIVEPOLC-1.MX</th>\n",
       "      <th>MEGACPO.MX</th>\n",
       "      <th>ORBIA.MX</th>\n",
       "      <th>NEMAKA.MX</th>\n",
       "      <th>OMAB.MX</th>\n",
       "      <th>PE&amp;OLES.MX</th>\n",
       "      <th>PINFRA.MX</th>\n",
       "      <th>Q.MX</th>\n",
       "      <th>TLEVISACPO.MX</th>\n",
       "      <th>VESTA.MX</th>\n",
       "      <th>VOLARA.MX</th>\n",
       "      <th>WALMEX.MX</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Date</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>2017-08-21</th>\n",
       "      <td>127.315865</td>\n",
       "      <td>24.344641</td>\n",
       "      <td>19.587143</td>\n",
       "      <td>67.563576</td>\n",
       "      <td>15.459056</td>\n",
       "      <td>350.135681</td>\n",
       "      <td>34.594028</td>\n",
       "      <td>41.981503</td>\n",
       "      <td>27.562164</td>\n",
       "      <td>15.829961</td>\n",
       "      <td>30.238684</td>\n",
       "      <td>759.305237</td>\n",
       "      <td>167.366211</td>\n",
       "      <td>165.036514</td>\n",
       "      <td>70.308853</td>\n",
       "      <td>92.285828</td>\n",
       "      <td>23.797405</td>\n",
       "      <td>28.164362</td>\n",
       "      <td>114.448387</td>\n",
       "      <td>108.566734</td>\n",
       "      <td>50.375504</td>\n",
       "      <td>NaN</td>\n",
       "      <td>234.186310</td>\n",
       "      <td>96.659592</td>\n",
       "      <td>31.245209</td>\n",
       "      <td>22.74</td>\n",
       "      <td>28.551424</td>\n",
       "      <td>159.412415</td>\n",
       "      <td>71.515190</td>\n",
       "      <td>43.915359</td>\n",
       "      <td>14.826096</td>\n",
       "      <td>93.894592</td>\n",
       "      <td>415.139130</td>\n",
       "      <td>189.179520</td>\n",
       "      <td>29.615000</td>\n",
       "      <td>89.513176</td>\n",
       "      <td>24.885527</td>\n",
       "      <td>23.010000</td>\n",
       "      <td>41.129734</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2017-08-22</th>\n",
       "      <td>125.646347</td>\n",
       "      <td>24.951515</td>\n",
       "      <td>19.428303</td>\n",
       "      <td>67.237274</td>\n",
       "      <td>15.477637</td>\n",
       "      <td>350.728027</td>\n",
       "      <td>34.918587</td>\n",
       "      <td>42.194313</td>\n",
       "      <td>27.684431</td>\n",
       "      <td>15.790972</td>\n",
       "      <td>30.333923</td>\n",
       "      <td>772.866760</td>\n",
       "      <td>166.926315</td>\n",
       "      <td>165.409210</td>\n",
       "      <td>70.836411</td>\n",
       "      <td>91.716400</td>\n",
       "      <td>23.672155</td>\n",
       "      <td>28.078899</td>\n",
       "      <td>115.788467</td>\n",
       "      <td>107.795555</td>\n",
       "      <td>51.294098</td>\n",
       "      <td>NaN</td>\n",
       "      <td>234.250763</td>\n",
       "      <td>96.918732</td>\n",
       "      <td>31.168457</td>\n",
       "      <td>22.76</td>\n",
       "      <td>28.767113</td>\n",
       "      <td>160.929916</td>\n",
       "      <td>71.524475</td>\n",
       "      <td>44.080070</td>\n",
       "      <td>15.003769</td>\n",
       "      <td>93.035301</td>\n",
       "      <td>411.014099</td>\n",
       "      <td>188.448029</td>\n",
       "      <td>30.104349</td>\n",
       "      <td>89.454063</td>\n",
       "      <td>24.731127</td>\n",
       "      <td>22.790001</td>\n",
       "      <td>40.635319</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2017-08-23</th>\n",
       "      <td>125.261780</td>\n",
       "      <td>24.454079</td>\n",
       "      <td>19.408447</td>\n",
       "      <td>66.990074</td>\n",
       "      <td>15.375443</td>\n",
       "      <td>347.824707</td>\n",
       "      <td>35.281322</td>\n",
       "      <td>42.320061</td>\n",
       "      <td>27.928959</td>\n",
       "      <td>15.742234</td>\n",
       "      <td>30.057726</td>\n",
       "      <td>765.543945</td>\n",
       "      <td>166.888870</td>\n",
       "      <td>166.535751</td>\n",
       "      <td>70.855598</td>\n",
       "      <td>92.599991</td>\n",
       "      <td>23.842136</td>\n",
       "      <td>28.591669</td>\n",
       "      <td>115.338722</td>\n",
       "      <td>108.171738</td>\n",
       "      <td>51.025452</td>\n",
       "      <td>NaN</td>\n",
       "      <td>237.697678</td>\n",
       "      <td>96.819061</td>\n",
       "      <td>31.151402</td>\n",
       "      <td>22.83</td>\n",
       "      <td>28.785084</td>\n",
       "      <td>158.816956</td>\n",
       "      <td>71.422295</td>\n",
       "      <td>44.153286</td>\n",
       "      <td>14.648417</td>\n",
       "      <td>93.911789</td>\n",
       "      <td>414.456146</td>\n",
       "      <td>186.120575</td>\n",
       "      <td>30.386665</td>\n",
       "      <td>89.867798</td>\n",
       "      <td>24.894611</td>\n",
       "      <td>22.690001</td>\n",
       "      <td>41.036453</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2017-08-24</th>\n",
       "      <td>123.507820</td>\n",
       "      <td>24.901773</td>\n",
       "      <td>19.477940</td>\n",
       "      <td>65.912308</td>\n",
       "      <td>15.468346</td>\n",
       "      <td>346.057495</td>\n",
       "      <td>35.033131</td>\n",
       "      <td>42.706989</td>\n",
       "      <td>27.640764</td>\n",
       "      <td>15.703244</td>\n",
       "      <td>30.010107</td>\n",
       "      <td>764.932922</td>\n",
       "      <td>166.757843</td>\n",
       "      <td>165.561691</td>\n",
       "      <td>70.567833</td>\n",
       "      <td>92.148384</td>\n",
       "      <td>24.495222</td>\n",
       "      <td>28.477720</td>\n",
       "      <td>116.229042</td>\n",
       "      <td>108.585541</td>\n",
       "      <td>51.675404</td>\n",
       "      <td>NaN</td>\n",
       "      <td>243.153732</td>\n",
       "      <td>97.098129</td>\n",
       "      <td>30.972330</td>\n",
       "      <td>22.91</td>\n",
       "      <td>28.973814</td>\n",
       "      <td>160.555313</td>\n",
       "      <td>71.468750</td>\n",
       "      <td>44.145561</td>\n",
       "      <td>14.618805</td>\n",
       "      <td>94.367203</td>\n",
       "      <td>420.502533</td>\n",
       "      <td>185.655090</td>\n",
       "      <td>30.113758</td>\n",
       "      <td>90.232269</td>\n",
       "      <td>24.458660</td>\n",
       "      <td>22.650000</td>\n",
       "      <td>41.353630</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                 AC.MX   ALFAA.MX  ALPEKA.MX   ALSEA.MX    AMXL.MX    ASURB.MX  BBAJIOO.MX  BIMBOA.MX  BOLSAA.MX  CEMEXCPO.MX  CUERVO.MX  ELEKTRA.MX  FEMSAUBD.MX     GAPB.MX  GCARSOA1.MX     GCC.MX  GENTERA.MX  GFINBURO.MX  GFNORTEO.MX       RA.MX  GMEXICOB.MX  GMXT.MX   GRUMAB.MX  IENOVA.MX  KIMBERA.MX  LABB.MX   LALAB.MX  LIVEPOLC-1.MX  MEGACPO.MX   ORBIA.MX  NEMAKA.MX    OMAB.MX  PE&OLES.MX   PINFRA.MX       Q.MX  TLEVISACPO.MX   VESTA.MX  VOLARA.MX  WALMEX.MX\n",
       "Date                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n",
       "2017-08-21  127.315865  24.344641  19.587143  67.563576  15.459056  350.135681   34.594028  41.981503  27.562164    15.829961  30.238684  759.305237   167.366211  165.036514    70.308853  92.285828   23.797405    28.164362   114.448387  108.566734    50.375504      NaN  234.186310  96.659592   31.245209    22.74  28.551424     159.412415   71.515190  43.915359  14.826096  93.894592  415.139130  189.179520  29.615000      89.513176  24.885527  23.010000  41.129734\n",
       "2017-08-22  125.646347  24.951515  19.428303  67.237274  15.477637  350.728027   34.918587  42.194313  27.684431    15.790972  30.333923  772.866760   166.926315  165.409210    70.836411  91.716400   23.672155    28.078899   115.788467  107.795555    51.294098      NaN  234.250763  96.918732   31.168457    22.76  28.767113     160.929916   71.524475  44.080070  15.003769  93.035301  411.014099  188.448029  30.104349      89.454063  24.731127  22.790001  40.635319\n",
       "2017-08-23  125.261780  24.454079  19.408447  66.990074  15.375443  347.824707   35.281322  42.320061  27.928959    15.742234  30.057726  765.543945   166.888870  166.535751    70.855598  92.599991   23.842136    28.591669   115.338722  108.171738    51.025452      NaN  237.697678  96.819061   31.151402    22.83  28.785084     158.816956   71.422295  44.153286  14.648417  93.911789  414.456146  186.120575  30.386665      89.867798  24.894611  22.690001  41.036453\n",
       "2017-08-24  123.507820  24.901773  19.477940  65.912308  15.468346  346.057495   35.033131  42.706989  27.640764    15.703244  30.010107  764.932922   166.757843  165.561691    70.567833  92.148384   24.495222    28.477720   116.229042  108.585541    51.675404      NaN  243.153732  97.098129   30.972330    22.91  28.973814     160.555313   71.468750  44.145561  14.618805  94.367203  420.502533  185.655090  30.113758      90.232269  24.458660  22.650000  41.353630"
      ]
     },
     "execution_count": 19,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "datos = pd.read_csv(\"datos.txt\", index_col = \"Date\")\n",
    "datos.head(4)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<font color= #6B6B6B> <font size = 6> 4. Procesos </font>"
   ]
  },
  {
   "cell_type": "raw",
   "metadata": {},
   "source": [
    "# aqui se incluye toda la secuencia de main.py.\n",
    "# tomando los pasos en los que fuiste haciendo todos los calculos\n",
    "# y poniendo cada uno como un subtitulo con markdown de nivel dos, así ## subtitulo de mi paso"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## PASO 1.1 \n",
    "#### Obtener la lista de los archivos a leer "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Ruta absoluta de archivos\n",
    "abspath = os.path.abspath(\"NAFTRAC_holdings\")\n",
    "# obtener una lista de todos los archivos en la carpeta (quitandole la extension de archivo)\n",
    "# no tener archivos abiertos al mismo tiempo que correr la siguiente linea, error por \".~loc.archivo\"\n",
    "archivos = [i[:-4] for i in os.listdir(abspath) if os.path.isfile(os.path.join(abspath,i))]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## PASO 1.2\n",
    "#### Leer todos los archivos y guardarlos en un diccionario"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [],
   "source": [
    "# crear un diccionario para almacenar todos los datos\n",
    "data_archivos = {}\n",
    "\n",
    "for i in archivos:\n",
    "    # leer archivos despues de los primeros dos renglones\n",
    "    data = pd.read_csv(os.path.join(abspath, i + \".csv\"),skiprows = 2, header = None)\n",
    "    # Renombrar y quitar columna sin nombre\n",
    "    columns = data.iloc[0,:][data.iloc[0,:].notnull()].values.tolist() # Elegir solo los que no son nan's\n",
    "    # Remover nan's\n",
    "    data = data.loc[:,data.iloc[0,:].notnull()].dropna() \n",
    "    # Establecer columnas\n",
    "    data.columns = columns\n",
    "    # resetear el indice\n",
    "    data = data.iloc[1:-1].reset_index(drop = True, inplace = False)\n",
    "    # quitar las comas en la columna de precios\n",
    "    data[\"Precio\"] =  data[\"Precio\"].apply(lambda x: x.replace(\",\",\"\"))\n",
    "    # quitar el asterisco de columna ticker\n",
    "    data[\"Ticker\"] =  data[\"Ticker\"].apply(lambda x: x.replace(\"*\",\"\"))\n",
    "    # hacer conversiones de tipos de columnas a numerico\n",
    "    convert_dict = {\"Ticker\":str,\"Nombre\":str,\"Peso (%)\":float,\"Precio\":float}\n",
    "    data = data.astype(convert_dict)\n",
    "    # convertir a decimal la columna de peso (%)\n",
    "    data[\"Peso (%)\"] = data[\"Peso (%)\"]/100 \n",
    "    # guardar en diccionario\n",
    "    data_archivos[i] = data"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## PASO 1.3\n",
    "#### Construir el vector de fechas a partir del vector de nombres de archivos"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [],
   "source": [
    "# estas serviran como etiquetas en dataframe y para yfinance  \n",
    "t_fechas = [i.strftime(\"%d-%m-%Y\") for i in sorted(pd.to_datetime(i[8:]).date() for i in archivos)]\n",
    "\n",
    "# lista con fechas ordenadas (para usarse como indexadores de archivos)\n",
    "i_fechas = [j.strftime(\"%d%m%Y\") for j in sorted(pd.to_datetime(i[8:]).date() for i in archivos)]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## PASO 1.4\n",
    "#### Construir el vector de tickers utilizables en yahoo finance"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [],
   "source": [
    "ticker = []\n",
    "\n",
    "for i in archivos:\n",
    "    # i = archivos[0]\n",
    "    l_ticker = list(data_archivos[i][\"Ticker\"])\n",
    "    [ticker.append(i + \".MX\") for i in l_ticker]\n",
    "\n",
    "global_tickers = np.unique(ticker).tolist()\n",
    "\n",
    "# ajustes de nombre de tickers\n",
    "global_tickers = [i.replace(\"GFREGIOO.MX\", \"RA.MX\") for i in global_tickers]\n",
    "global_tickers = [i.replace(\"MEXCHEM.MX\", \"ORBIA.MX\") for i in global_tickers]\n",
    "global_tickers = [i.replace(\"LIVEPOLC.1.MX\", \"LIVEPOLC-1.MX\") for i in global_tickers]\n",
    "\n",
    "# eliminar entradas de efectivo: MXN, USD, y tickers con problemas de precios: KOFL, BSMXB\n",
    "# Usamos try porque puede que no tenga alguno y marque algún error\n",
    "lista =  [\"MXN.MX\",\"KOFL.MX\",\"KOFUBL.MX\",\"BSMXB.MX\",\"USD.MX\"] \n",
    "for i in lista:\n",
    "    try:\n",
    "        global_tickers.remove(i)\n",
    "    except:\n",
    "        pass"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## PASO 1.5\n",
    "#### Descargar y acomodar todos los precios historicos"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[*********************100%***********************]  39 of 39 completed\n",
      "Se tardó 10.534229755401611  Segundos.\n"
     ]
    }
   ],
   "source": [
    "# para contar tiempo que se tarda\n",
    "inicio = time.time()    \n",
    "\n",
    "# descarga masiva de precios de yahoo finance\n",
    "data = yf.download(global_tickers, start = \"2017-08-21\", end = \"2020-08-22\", actions = False,\n",
    "                   group_by = \"close\", interval = \"1d\", auto_adjust = True, prepost = False, threads = True)\n",
    "copia = data.copy()\n",
    "\n",
    "# tiempo que se tarda\n",
    "print(\"Se tardó\", time.time()- inicio, \" Segundos.\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## PASO 1.6\n",
    "#### Obtener posiciones históricas"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Convertir columnas de fechas\n",
    "data_close = pd.DataFrame({i: data[i][\"Close\"] for i in global_tickers})\n",
    "\n",
    "# Tomar solo las fechas de interes (utlizando teoría de conjuntos)\n",
    "prueba_fechas = [j.strftime(\"%Y-%m-%d\") for j in sorted(pd.to_datetime(i[8:]).date() for i in archivos)]\n",
    "# Se cambia el tipo de fecha para que se ajuste al mismo formato y veamos si se encuentran todas\n",
    "ic_fechas = sorted(list(set(data_close.index.astype(str).tolist()) & set(prueba_fechas)))\n",
    "# Localizar todos los precios\n",
    "precios = np.concatenate([np.where(data_close.index == ic_fechas[i]) for i in range(len(ic_fechas))]).reshape(len(ic_fechas),)\n",
    "# Elegir Posiciones históricas\n",
    "closes_timeframe = data_close.iloc[precios,:]\n",
    "\n",
    "# Ordenar columnas en orden lexográfico\n",
    "precios = closes_timeframe.reindex(sorted(closes_timeframe.columns), axis = 1)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## PASO 1.7\n",
    "#### Evolución del capital"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<style  type=\"text/css\" >\n",
       "    #T_2009a370_f5f8_11ea_802a_548ca0f96092row0_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row0_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row0_col2 {\n",
       "            background-color:  #dde318;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row1_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row1_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row1_col2 {\n",
       "            background-color:  #67cc5c;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row2_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row2_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row2_col2 {\n",
       "            background-color:  #3aba76;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row3_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row3_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row3_col2 {\n",
       "            background-color:  #95d840;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row4_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row4_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row4_col2 {\n",
       "            background-color:  #25ac82;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row5_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row5_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row5_col2 {\n",
       "            background-color:  #a2da37;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row6_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row6_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row6_col2 {\n",
       "            background-color:  #fbe723;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row7_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row7_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row7_col2 {\n",
       "            background-color:  #fde725;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row8_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row8_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row8_col2 {\n",
       "            background-color:  #f8e621;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row9_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row9_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row9_col2 {\n",
       "            background-color:  #2cb17e;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row10_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row10_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row10_col2 {\n",
       "            background-color:  #21918c;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row11_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row11_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row11_col2 {\n",
       "            background-color:  #218e8d;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row12_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row12_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row12_col2 {\n",
       "            background-color:  #3bbb75;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row13_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row13_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row13_col2 {\n",
       "            background-color:  #23a983;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row14_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row14_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row14_col2 {\n",
       "            background-color:  #27ad81;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row15_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row15_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row15_col2 {\n",
       "            background-color:  #42be71;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row16_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row16_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row16_col2 {\n",
       "            background-color:  #1fa287;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row17_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row17_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row17_col2 {\n",
       "            background-color:  #26ad81;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row18_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row18_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row18_col2 {\n",
       "            background-color:  #24878e;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row19_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row19_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row19_col2 {\n",
       "            background-color:  #27ad81;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row20_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row20_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row20_col2 {\n",
       "            background-color:  #35b779;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row21_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row21_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row21_col2 {\n",
       "            background-color:  #46c06f;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row22_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row22_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row22_col2 {\n",
       "            background-color:  #3fbc73;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row23_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row23_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row23_col2 {\n",
       "            background-color:  #5cc863;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row24_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row24_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row24_col2 {\n",
       "            background-color:  #70cf57;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row25_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row25_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row25_col2 {\n",
       "            background-color:  #1e9d89;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row26_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row26_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row26_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row27_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row27_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row27_col2 {\n",
       "            background-color:  #3e4c8a;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row28_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row28_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row28_col2 {\n",
       "            background-color:  #3d4e8a;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row29_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row29_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row29_col2 {\n",
       "            background-color:  #287d8e;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row30_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row30_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row30_col2 {\n",
       "            background-color:  #2a778e;\n",
       "            color:  #000000;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row31_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row31_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_2009a370_f5f8_11ea_802a_548ca0f96092row31_col2 {\n",
       "            background-color:  #20938c;\n",
       "            color:  #000000;\n",
       "        }</style><table id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092\" ><thead>    <tr>        <th class=\"blank level0\" ></th>        <th class=\"col_heading level0 col0\" >Capital</th>        <th class=\"col_heading level0 col1\" >CASH</th>        <th class=\"col_heading level0 col2\" >Rend_Acum</th>    </tr>    <tr>        <th class=\"index_name level0\" >Timestamp</th>        <th class=\"blank\" ></th>        <th class=\"blank\" ></th>        <th class=\"blank\" ></th>    </tr></thead><tbody>\n",
       "                <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row0\" class=\"row_heading level0 row0\" >2018-01-31 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row0_col0\" class=\"data row0 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row0_col1\" class=\"data row0 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row0_col2\" class=\"data row0 col2\" >0</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row1\" class=\"row_heading level0 row1\" >2018-02-28 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row1_col0\" class=\"data row1 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row1_col1\" class=\"data row1 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row1_col2\" class=\"data row1 col2\" >-0.0543541</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row2\" class=\"row_heading level0 row2\" >2018-03-28 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row2_col0\" class=\"data row2 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row2_col1\" class=\"data row2 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row2_col2\" class=\"data row2 col2\" >-0.0810234</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row3\" class=\"row_heading level0 row3\" >2018-04-30 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row3_col0\" class=\"data row3 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row3_col1\" class=\"data row3 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row3_col2\" class=\"data row3 col2\" >-0.0309676</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row4\" class=\"row_heading level0 row4\" >2018-05-31 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row4_col0\" class=\"data row4 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row4_col1\" class=\"data row4 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row4_col2\" class=\"data row4 col2\" >-0.100261</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row5\" class=\"row_heading level0 row5\" >2018-06-29 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row5_col0\" class=\"data row5 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row5_col1\" class=\"data row5 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row5_col2\" class=\"data row5 col2\" >-0.0260535</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row6\" class=\"row_heading level0 row6\" >2018-07-31 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row6_col0\" class=\"data row6 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row6_col1\" class=\"data row6 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row6_col2\" class=\"data row6 col2\" >0.0150491</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row7\" class=\"row_heading level0 row7\" >2018-08-31 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row7_col0\" class=\"data row7 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row7_col1\" class=\"data row7 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row7_col2\" class=\"data row7 col2\" >0.0164295</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row8\" class=\"row_heading level0 row8\" >2018-09-28 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row8_col0\" class=\"data row8 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row8_col1\" class=\"data row8 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row8_col2\" class=\"data row8 col2\" >0.0133283</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row9\" class=\"row_heading level0 row9\" >2018-10-31 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row9_col0\" class=\"data row9 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row9_col1\" class=\"data row9 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row9_col2\" class=\"data row9 col2\" >-0.0925826</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row10\" class=\"row_heading level0 row10\" >2018-11-30 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row10_col0\" class=\"data row10 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row10_col1\" class=\"data row10 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row10_col2\" class=\"data row10 col2\" >-0.134973</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row11\" class=\"row_heading level0 row11\" >2018-12-31 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row11_col0\" class=\"data row11 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row11_col1\" class=\"data row11 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row11_col2\" class=\"data row11 col2\" >-0.13802</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row12\" class=\"row_heading level0 row12\" >2019-01-31 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row12_col0\" class=\"data row12 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row12_col1\" class=\"data row12 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row12_col2\" class=\"data row12 col2\" >-0.0804827</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row13\" class=\"row_heading level0 row13\" >2019-02-28 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row13_col0\" class=\"data row13 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row13_col1\" class=\"data row13 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row13_col2\" class=\"data row13 col2\" >-0.103752</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row14\" class=\"row_heading level0 row14\" >2019-03-29 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row14_col0\" class=\"data row14 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row14_col1\" class=\"data row14 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row14_col2\" class=\"data row14 col2\" >-0.0974697</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row15\" class=\"row_heading level0 row15\" >2019-04-30 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row15_col0\" class=\"data row15 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row15_col1\" class=\"data row15 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row15_col2\" class=\"data row15 col2\" >-0.0749755</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row16\" class=\"row_heading level0 row16\" >2019-05-31 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row16_col0\" class=\"data row16 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row16_col1\" class=\"data row16 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row16_col2\" class=\"data row16 col2\" >-0.112428</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row17\" class=\"row_heading level0 row17\" >2019-06-28 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row17_col0\" class=\"data row17 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row17_col1\" class=\"data row17 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row17_col2\" class=\"data row17 col2\" >-0.0989911</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row18\" class=\"row_heading level0 row18\" >2019-07-31 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row18_col0\" class=\"data row18 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row18_col1\" class=\"data row18 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row18_col2\" class=\"data row18 col2\" >-0.14632</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row19\" class=\"row_heading level0 row19\" >2019-08-30 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row19_col0\" class=\"data row19 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row19_col1\" class=\"data row19 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row19_col2\" class=\"data row19 col2\" >-0.0984044</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row20\" class=\"row_heading level0 row20\" >2019-09-30 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row20_col0\" class=\"data row20 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row20_col1\" class=\"data row20 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row20_col2\" class=\"data row20 col2\" >-0.08451</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row21\" class=\"row_heading level0 row21\" >2019-10-31 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row21_col0\" class=\"data row21 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row21_col1\" class=\"data row21 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row21_col2\" class=\"data row21 col2\" >-0.0726134</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row22\" class=\"row_heading level0 row22\" >2019-11-29 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row22_col0\" class=\"data row22 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row22_col1\" class=\"data row22 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row22_col2\" class=\"data row22 col2\" >-0.0782879</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row23\" class=\"row_heading level0 row23\" >2019-12-31 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row23_col0\" class=\"data row23 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row23_col1\" class=\"data row23 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row23_col2\" class=\"data row23 col2\" >-0.0595771</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row24\" class=\"row_heading level0 row24\" >2020-01-31 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row24_col0\" class=\"data row24 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row24_col1\" class=\"data row24 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row24_col2\" class=\"data row24 col2\" >-0.0494559</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row25\" class=\"row_heading level0 row25\" >2020-02-28 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row25_col0\" class=\"data row25 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row25_col1\" class=\"data row25 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row25_col2\" class=\"data row25 col2\" >-0.119423</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row26\" class=\"row_heading level0 row26\" >2020-03-31 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row26_col0\" class=\"data row26 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row26_col1\" class=\"data row26 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row26_col2\" class=\"data row26 col2\" >-0.286871</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row27\" class=\"row_heading level0 row27\" >2020-04-30 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row27_col0\" class=\"data row27 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row27_col1\" class=\"data row27 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row27_col2\" class=\"data row27 col2\" >-0.218106</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row28\" class=\"row_heading level0 row28\" >2020-05-29 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row28_col0\" class=\"data row28 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row28_col1\" class=\"data row28 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row28_col2\" class=\"data row28 col2\" >-0.214987</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row29\" class=\"row_heading level0 row29\" >2020-06-30 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row29_col0\" class=\"data row29 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row29_col1\" class=\"data row29 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row29_col2\" class=\"data row29 col2\" >-0.159226</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row30\" class=\"row_heading level0 row30\" >2020-07-31 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row30_col0\" class=\"data row30 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row30_col1\" class=\"data row30 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row30_col2\" class=\"data row30 col2\" >-0.167104</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092level0_row31\" class=\"row_heading level0 row31\" >2020-08-21 00:00:00</th>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row31_col0\" class=\"data row31 col0\" >1000000</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row31_col1\" class=\"data row31 col1\" >40800</td>\n",
       "                        <td id=\"T_2009a370_f5f8_11ea_802a_548ca0f96092row31_col2\" class=\"data row31 col2\" >-0.131475</td>\n",
       "            </tr>\n",
       "    </tbody></table>"
      ],
      "text/plain": [
       "<pandas.io.formats.style.Styler at 0x2270544f438>"
      ]
     },
     "execution_count": 26,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "warnings.filterwarnings(\"ignore\")\n",
    "# Acomodar columnas de ponderaciones para que tengan el mismo orden que los precios\n",
    "# Leer primer archivo en orden cronológico para obtener las ponderaciones y los activos con los que se va a trabajar\n",
    "ponderaciones_iniciales = data_archivos[\"NAFTRAC_\"+i_fechas[0][:-4]+i_fechas[0][-2:]][[\"Ticker\",\"Peso (%)\"]]\n",
    "# Agregar \".MX\" a cada ticker\n",
    "ponderaciones_iniciales[\"Ticker\"] = [l+ \".MX\" for  l in ponderaciones_iniciales[\"Ticker\"]]\n",
    "# Tomar los tickers para cambiar los activos que no son con \".MX\", sino tienen un nombre distinto para consultar\n",
    "tickers = ponderaciones_iniciales[\"Ticker\"]       \n",
    "# Remplazar \n",
    "tickers = [i.replace(\"GFREGIOO.MX\", \"RA.MX\") for i in tickers]\n",
    "tickers  = [i.replace(\"MEXCHEM.MX\", \"ORBIA.MX\") for i in tickers]\n",
    "tickers = [i.replace(\"LIVEPOLC.1.MX\", \"LIVEPOLC-1.MX\") for i in tickers]\n",
    "# Poner como CASH los activos que se quedarán fuera (por falta de información o algún eveno inesperado).\n",
    "tickers = [i.replace(\"MXN.MX\", \"CASH\") for i in tickers]\n",
    "tickers = [i.replace(\"KOFL.MX\", \"CASH\") for i in tickers]\n",
    "tickers = [i.replace(\"KOFUBL.MX\", \"CASH\") for i in tickers]\n",
    "tickers = [i.replace(\"BSMXB.MX\", \"CASH\") for i in tickers]\n",
    "tickers = [i.replace(\"USD.MX\", \"CASH\") for i in tickers]\n",
    "# Renombrar tickers con las modificicaciones correspondientes\n",
    "ponderaciones_iniciales[\"Ticker\"] = tickers\n",
    "# Establecer como index la lista de tickers con sus nuevos cambios\n",
    "ponderaciones_iniciales.set_index(\"Ticker\", inplace = True)\n",
    "# Agrupar para poder sumar las ponderaciones de los tickers de CASH\n",
    "ponderaciones_iniciales = ponderaciones_iniciales.groupby(\"Ticker\").sum()  \n",
    "# Guardar el porcentaje que se quedará en CASH para eliminar el ticker del DATAFRAME y poder trabajar mejor\n",
    "cash_proporcion = ponderaciones_iniciales.loc[\"CASH\",:].values.tolist()[0]\n",
    "# Eliminar CASH DE los tickers\n",
    "ponderaciones_iniciales = ponderaciones_iniciales.drop(\"CASH\")\n",
    "# Conocer los precios en las fechas históricas y transponerlo para después concatenarlo con las ponderaciones\n",
    "ajustar_precios = precios[ponderaciones_iniciales.index.values.tolist()].T\n",
    "# Se tiene la ponderación de cada activo con sus precios en las fechas acordadas.\n",
    "sss = pd.concat([ponderaciones_iniciales,ajustar_precios],axis = 1) \n",
    "\n",
    "# Posición Inicial\n",
    "k = 1000000\n",
    "# Comisiciones por transacción\n",
    "c = 0.00125\n",
    "\n",
    "# Removemos los pesos\n",
    "Final = sss.iloc[:,1:].T\n",
    "# Conocer el cambio que se tiene en cada periodo de tiempo\n",
    "porcentajes = Final.pct_change().dropna()\n",
    "\n",
    "# Obtener el rendimiento en cada periodo con respecto al otro y ajustarlo con su ponderación correspondiente \n",
    "# para saber como fluctua el portafolio\n",
    "rendimientos = []\n",
    "\n",
    "for k in range(len(porcentajes)):\n",
    "    # Ponderaciones\n",
    "    pond = sss.iloc[:,0].values\n",
    "    # Precios por fecha\n",
    "    cambios = porcentajes.iloc[k,:].values\n",
    "    # Agregar el rendimiento a partir de los cambios de un tiempo con respecto al otro considerando su ponderación\n",
    "    # En la cartera o portafolio.\n",
    "    rendimientos.append(np.sum(cambios*pond))\n",
    "\n",
    "# Construir DataFrame\n",
    "Tabla = pd.DataFrame(columns = [\"Timestamp\",\"Capital\",\"CASH\", \"Rend_Acum\"])\n",
    "Tabla[\"Timestamp\"] = sss.columns.values[1:]\n",
    "Tabla.set_index(\"Timestamp\", inplace = True)\n",
    "k = 1000000\n",
    "Tabla.Capital = k\n",
    "# Agregar lo que está en cada periodo en CASH (Se mantiene constante)\n",
    "Tabla.CASH = k*cash_proporcion\n",
    "rends = [0]\n",
    "rends.extend(rendimientos)\n",
    "Tabla.Rend_Acum = np.cumsum(rends)\n",
    "tablaa = Tabla.copy()   \n",
    "Tabla.style.background_gradient(cmap='viridis') # Agregar estilo al dataframe"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## PASO 1.8\n",
    "#### Graficas de evolución del capital"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'Lines.html'"
      ]
     },
     "execution_count": 27,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "k = 1000000\n",
    "\n",
    "trace = go.Scatter(x=precios.index[1:],y = (1+np.array(rends[1:]))*(k)+k*cash_proporcion, mode = \"markers+lines\", name = \"Rendimiento en Periodos\")\n",
    "trace1 = go.Scatter(x=precios.index[1:],y = (1+np.cumsum(rends[1:]))*k+k*cash_proporcion, mode = \"markers+lines\", name = \"Rendimiento en Periodos Acumulado\")\n",
    "data = [trace, trace1]\n",
    "layout = go.Layout(title  = \"Plot de rendimientos simples y acumulados\",\n",
    "                   hovermode = \"closest\", xaxis = {\"title\":\"Rendimiento\"}, yaxis = {\"title\":\"Fechas\"})\n",
    "fig = go.Figure(data = data, layout = layout) \n",
    "pyo.plot(fig, filename = \"Lines.html\") # Se abrirá en una pestaña y abajo se mostrará en el notebook"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## PASO 1.9 - Inversión Activa\n",
    "#### Gestión Activa (Obtención de Volatilidades)\n",
    "\n",
    "Las ponderaciones de los activos inicialese se actualizarán en base al Sharpe Ratio. \n",
    "Se le quitará el 20% de manera equitativa a cada activo y ese 20% se repartirá entre los 5 activos que\n",
    "Tuviesen un mayor sharpe ratio."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Recordar que para obtener el sharpe ratio se necesitan las volatilidades, por lo tanto, se calcularán las volatilidades\n",
    "# De un periodo con respecto a otro para cada activo. \n",
    "Precios_activos = data_close[Final.columns.values.tolist()] # Obtener todos los precios de los activos iniciales\n",
    "volatilidades = pd.DataFrame(index =  Precios_activos.columns.values) # DataFrame vacio para las volatilidades\n",
    "for s in range(len(prueba_fechas)-1):\n",
    "    if s == 0:\n",
    "        # Tomar datos entre cada lapso\n",
    "        df = Precios_activos.loc[pd.to_datetime(prueba_fechas[s]):pd.to_datetime(prueba_fechas[s+1]),:].pct_change().dropna()\n",
    "        # Se quita el primer dato del siguiente periodo, pues no se debe de utilizar\n",
    "        df = df[:-1].std()\n",
    "        volatilidades.index = df.index.values\n",
    "        \n",
    "        volatilidades[str(pd.to_datetime(prueba_fechas[s]))[:10]+\"+\"+str(pd.to_datetime(prueba_fechas[s+1]))[:10]] = df\n",
    "    else:\n",
    "        # Tomar datos entre cada lapso\n",
    "        r = Precios_activos.loc[pd.to_datetime(prueba_fechas[s]):pd.to_datetime(prueba_fechas[s+1]),:].pct_change().dropna()\n",
    "        # Se quita el primer dato del siguiente periodo, pues no se debe de utilizar\n",
    "        r = r[:-1].std()\n",
    "        # Se pone de título en cada columna el plazo de donde se agarran los datos\n",
    "        volatilidades[str(pd.to_datetime(prueba_fechas[s]))[:10]+\"+\"+str(pd.to_datetime(prueba_fechas[s+1]))[:10]] = r\n",
    "volatilidades.columns = porcentajes.index.values"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## PASO 2.0\n",
    "#### Gestión Activa (Obtención de Ratios de Sharpe)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "$$\\text{Sharpe Ratio} = \\frac{R_p-R_f}{\\sigma^{P}}$$"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Tasa Libre de Riesgo\n",
    "rf = 0.0770\n",
    "Ratio_Sharpe = (porcentajes.T - rf)/volatilidades\n",
    "Ratio_Sharpe.columns = [str(l)[:10] for l in Ratio_Sharpe.columns]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## PASO 2.1\n",
    "#### Gestión Activa (Realizar rebalanceos)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Crear DataFrame que tenga las nuevas ponderaciones\n",
    "cambio_en_ponderaciones = pd.DataFrame(index = Ratio_Sharpe.index.values.tolist(), columns = [str(Final.T.columns[0])[:10]], \n",
    "                                       data = ponderaciones_iniciales.values)\n",
    "clmns = [cambio_en_ponderaciones.columns.values[0]]\n",
    "clmns.extend(Ratio_Sharpe.columns.values.tolist())\n",
    "\n",
    "\n",
    "for ls in range(len(clmns)):\n",
    "    if ls == 0: \n",
    "        pass\n",
    "    else:\n",
    "        # Reducir en un 20%\n",
    "        data_nuevo = pd.DataFrame(cambio_en_ponderaciones.loc[:,clmns[ls-1]])*.80\n",
    "        # Ver cuanto fue la diferencia del 20%\n",
    "        agregar  = (cambio_en_ponderaciones.loc[:,clmns[ls-1]].sum()- data_nuevo.sum()).values[0]\n",
    "        # Agrupar y ordenar para saber cuales fueron los que tuvieron mayor ratio de sharpe\n",
    "        nuevos_datos = pd.DataFrame(Ratio_Sharpe.iloc[:,ls-1]).groupby(\"Ticker\").sum()\n",
    "        nuevos_datos = nuevos_datos.sort_values(clmns[ls], ascending=False)\n",
    "        \n",
    "        for i in range(5):\n",
    "            # Contador de uno a 5 porque se va a agregar en los mejores 5 \n",
    "            # Agregar en los mejores 5\n",
    "            data_nuevo.loc[nuevos_datos.index.values[i],data_nuevo.columns.values[0]] = data_nuevo.loc[nuevos_datos.index.values[i],data_nuevo.columns.values[0]] + agregar/5\n",
    "\n",
    "        # Agregar todo en un dataset\n",
    "        cambio_en_ponderaciones[clmns[ls]] = data_nuevo\n",
    "ponderaciones_completas = cambio_en_ponderaciones.copy()\n",
    "cambio_en_ponderaciones = cambio_en_ponderaciones.iloc[:,1:]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## PASO 2.2\n",
    "#### Evolución del capital"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<style  type=\"text/css\" >\n",
       "    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row0_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row0_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row0_col2 {\n",
       "            background-color:  #450457;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row1_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row1_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row1_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row2_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row2_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row2_col2 {\n",
       "            background-color:  #481769;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row3_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row3_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row3_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row4_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row4_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row4_col2 {\n",
       "            background-color:  #482677;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row5_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row5_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row5_col2 {\n",
       "            background-color:  #3d4e8a;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row6_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row6_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row6_col2 {\n",
       "            background-color:  #355e8d;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row7_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row7_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row7_col2 {\n",
       "            background-color:  #31678e;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row8_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row8_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row8_col2 {\n",
       "            background-color:  #433d84;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row9_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row9_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row9_col2 {\n",
       "            background-color:  #453581;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row10_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row10_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row10_col2 {\n",
       "            background-color:  #414287;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row11_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row11_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row11_col2 {\n",
       "            background-color:  #2f6c8e;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row12_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row12_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row12_col2 {\n",
       "            background-color:  #2a768e;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row13_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row13_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row13_col2 {\n",
       "            background-color:  #27808e;\n",
       "            color:  #000000;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row14_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row14_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row14_col2 {\n",
       "            background-color:  #228d8d;\n",
       "            color:  #000000;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row15_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row15_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row15_col2 {\n",
       "            background-color:  #228d8d;\n",
       "            color:  #000000;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row16_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row16_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row16_col2 {\n",
       "            background-color:  #1f9e89;\n",
       "            color:  #000000;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row17_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row17_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row17_col2 {\n",
       "            background-color:  #20928c;\n",
       "            color:  #000000;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row18_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row18_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row18_col2 {\n",
       "            background-color:  #21a685;\n",
       "            color:  #000000;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row19_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row19_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row19_col2 {\n",
       "            background-color:  #37b878;\n",
       "            color:  #000000;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row20_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row20_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row20_col2 {\n",
       "            background-color:  #58c765;\n",
       "            color:  #000000;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row21_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row21_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row21_col2 {\n",
       "            background-color:  #54c568;\n",
       "            color:  #000000;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row22_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row22_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row22_col2 {\n",
       "            background-color:  #67cc5c;\n",
       "            color:  #000000;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row23_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row23_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row23_col2 {\n",
       "            background-color:  #90d743;\n",
       "            color:  #000000;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row24_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row24_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row24_col2 {\n",
       "            background-color:  #46c06f;\n",
       "            color:  #000000;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row25_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row25_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row25_col2 {\n",
       "            background-color:  #2a768e;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row26_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row26_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row26_col2 {\n",
       "            background-color:  #22a785;\n",
       "            color:  #000000;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row27_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row27_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row27_col2 {\n",
       "            background-color:  #42be71;\n",
       "            color:  #000000;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row28_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row28_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row28_col2 {\n",
       "            background-color:  #9dd93b;\n",
       "            color:  #000000;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row29_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row29_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row29_col2 {\n",
       "            background-color:  #b2dd2d;\n",
       "            color:  #000000;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row30_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row30_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row30_col2 {\n",
       "            background-color:  #fde725;\n",
       "            color:  #000000;\n",
       "        }</style><table id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092\" ><thead>    <tr>        <th class=\"blank level0\" ></th>        <th class=\"col_heading level0 col0\" >Capital</th>        <th class=\"col_heading level0 col1\" >CASH</th>        <th class=\"col_heading level0 col2\" >Rend_Acum</th>    </tr>    <tr>        <th class=\"index_name level0\" >Timestamp</th>        <th class=\"blank\" ></th>        <th class=\"blank\" ></th>        <th class=\"blank\" ></th>    </tr></thead><tbody>\n",
       "                <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row0\" class=\"row_heading level0 row0\" >2018-02-28</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row0_col0\" class=\"data row0 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row0_col1\" class=\"data row0 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row0_col2\" class=\"data row0 col2\" >-0.0380958</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row1\" class=\"row_heading level0 row1\" >2018-03-28</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row1_col0\" class=\"data row1 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row1_col1\" class=\"data row1 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row1_col2\" class=\"data row1 col2\" >-0.0446441</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row2\" class=\"row_heading level0 row2\" >2018-04-30</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row2_col0\" class=\"data row2 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row2_col1\" class=\"data row2 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row2_col2\" class=\"data row2 col2\" >-0.0053493</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row3\" class=\"row_heading level0 row3\" >2018-05-31</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row3_col0\" class=\"data row3 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row3_col1\" class=\"data row3 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row3_col2\" class=\"data row3 col2\" >-0.0432271</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row4\" class=\"row_heading level0 row4\" >2018-06-29</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row4_col0\" class=\"data row4 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row4_col1\" class=\"data row4 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row4_col2\" class=\"data row4 col2\" >0.02428</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row5\" class=\"row_heading level0 row5\" >2018-07-31</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row5_col0\" class=\"data row5 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row5_col1\" class=\"data row5 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row5_col2\" class=\"data row5 col2\" >0.104059</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row6\" class=\"row_heading level0 row6\" >2018-08-31</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row6_col0\" class=\"data row6 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row6_col1\" class=\"data row6 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row6_col2\" class=\"data row6 col2\" >0.140948</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row7\" class=\"row_heading level0 row7\" >2018-09-28</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row7_col0\" class=\"data row7 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row7_col1\" class=\"data row7 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row7_col2\" class=\"data row7 col2\" >0.162732</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row8\" class=\"row_heading level0 row8\" >2018-10-31</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row8_col0\" class=\"data row8 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row8_col1\" class=\"data row8 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row8_col2\" class=\"data row8 col2\" >0.0667652</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row9\" class=\"row_heading level0 row9\" >2018-11-30</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row9_col0\" class=\"data row9 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row9_col1\" class=\"data row9 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row9_col2\" class=\"data row9 col2\" >0.0524031</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row10\" class=\"row_heading level0 row10\" >2018-12-31</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row10_col0\" class=\"data row10 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row10_col1\" class=\"data row10 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row10_col2\" class=\"data row10 col2\" >0.0801491</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row11\" class=\"row_heading level0 row11\" >2019-01-31</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row11_col0\" class=\"data row11 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row11_col1\" class=\"data row11 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row11_col2\" class=\"data row11 col2\" >0.177065</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row12\" class=\"row_heading level0 row12\" >2019-02-28</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row12_col0\" class=\"data row12 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row12_col1\" class=\"data row12 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row12_col2\" class=\"data row12 col2\" >0.204198</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row13\" class=\"row_heading level0 row13\" >2019-03-29</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row13_col0\" class=\"data row13 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row13_col1\" class=\"data row13 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row13_col2\" class=\"data row13 col2\" >0.227046</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row14\" class=\"row_heading level0 row14\" >2019-04-30</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row14_col0\" class=\"data row14 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row14_col1\" class=\"data row14 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row14_col2\" class=\"data row14 col2\" >0.263605</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row15\" class=\"row_heading level0 row15\" >2019-05-31</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row15_col0\" class=\"data row15 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row15_col1\" class=\"data row15 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row15_col2\" class=\"data row15 col2\" >0.262323</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row16\" class=\"row_heading level0 row16\" >2019-06-28</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row16_col0\" class=\"data row16 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row16_col1\" class=\"data row16 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row16_col2\" class=\"data row16 col2\" >0.307922</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row17\" class=\"row_heading level0 row17\" >2019-07-31</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row17_col0\" class=\"data row17 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row17_col1\" class=\"data row17 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row17_col2\" class=\"data row17 col2\" >0.274014</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row18\" class=\"row_heading level0 row18\" >2019-08-30</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row18_col0\" class=\"data row18 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row18_col1\" class=\"data row18 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row18_col2\" class=\"data row18 col2\" >0.329059</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row19\" class=\"row_heading level0 row19\" >2019-09-30</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row19_col0\" class=\"data row19 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row19_col1\" class=\"data row19 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row19_col2\" class=\"data row19 col2\" >0.37765</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row20\" class=\"row_heading level0 row20\" >2019-10-31</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row20_col0\" class=\"data row20 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row20_col1\" class=\"data row20 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row20_col2\" class=\"data row20 col2\" >0.423681</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row21\" class=\"row_heading level0 row21\" >2019-11-29</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row21_col0\" class=\"data row21 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row21_col1\" class=\"data row21 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row21_col2\" class=\"data row21 col2\" >0.417208</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row22\" class=\"row_heading level0 row22\" >2019-12-31</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row22_col0\" class=\"data row22 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row22_col1\" class=\"data row22 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row22_col2\" class=\"data row22 col2\" >0.440855</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row23\" class=\"row_heading level0 row23\" >2020-01-31</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row23_col0\" class=\"data row23 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row23_col1\" class=\"data row23 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row23_col2\" class=\"data row23 col2\" >0.482269</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row24\" class=\"row_heading level0 row24\" >2020-02-28</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row24_col0\" class=\"data row24 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row24_col1\" class=\"data row24 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row24_col2\" class=\"data row24 col2\" >0.39985</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row25\" class=\"row_heading level0 row25\" >2020-03-31</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row25_col0\" class=\"data row25 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row25_col1\" class=\"data row25 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row25_col2\" class=\"data row25 col2\" >0.203815</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row26\" class=\"row_heading level0 row26\" >2020-04-30</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row26_col0\" class=\"data row26 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row26_col1\" class=\"data row26 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row26_col2\" class=\"data row26 col2\" >0.33065</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row27\" class=\"row_heading level0 row27\" >2020-05-29</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row27_col0\" class=\"data row27 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row27_col1\" class=\"data row27 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row27_col2\" class=\"data row27 col2\" >0.396671</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row28\" class=\"row_heading level0 row28\" >2020-06-30</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row28_col0\" class=\"data row28 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row28_col1\" class=\"data row28 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row28_col2\" class=\"data row28 col2\" >0.494945</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row29\" class=\"row_heading level0 row29\" >2020-07-31</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row29_col0\" class=\"data row29 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row29_col1\" class=\"data row29 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row29_col2\" class=\"data row29 col2\" >0.514893</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092level0_row30\" class=\"row_heading level0 row30\" >2020-08-21</th>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row30_col0\" class=\"data row30 col0\" >1000000</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row30_col1\" class=\"data row30 col1\" >41800</td>\n",
       "                        <td id=\"T_25b9ba54_f5f8_11ea_b8e3_548ca0f96092row30_col2\" class=\"data row30 col2\" >0.587312</td>\n",
       "            </tr>\n",
       "    </tbody></table>"
      ],
      "text/plain": [
       "<pandas.io.formats.style.Styler at 0x22705456ba8>"
      ]
     },
     "execution_count": 31,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Ajustar índices\n",
    "porcentajes.index = cambio_en_ponderaciones.T.index\n",
    "# Ver cambio ponderado de la cartera\n",
    "ajustes = cambio_en_ponderaciones.T*porcentajes\n",
    "# Conocer lo que se tiene en cash\n",
    "cash_p = 1-cambio_en_ponderaciones.iloc[:,0].sum()\n",
    "ss = ajustes.sum(axis = 1).values.tolist()\n",
    "rr = [0]\n",
    "rr.extend(ss)\n",
    "cumsum = np.cumsum(ss)\n",
    "# Construir DataFrame\n",
    "Tabla = pd.DataFrame(columns = [\"Timestamp\",\"Capital\",\"CASH\", \"Rend_Acum\"])\n",
    "Tabla[\"Timestamp\"] = ajustes.index.values\n",
    "Tabla.set_index(\"Timestamp\", inplace = True)\n",
    "k = 1000000\n",
    "Tabla.Capital = k\n",
    "# Agregar lo que está en cada periodo en CASH (Se mantiene constante)\n",
    "Tabla.CASH = k*cash_p\n",
    "Tabla.Rend_Acum = cumsum\n",
    "Tabla.style.background_gradient(cmap='viridis')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## PASO 2.3\n",
    "#### Graficas de evolución del capital en inversión activa"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'Lines.html'"
      ]
     },
     "execution_count": 32,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# -- graficas de evolución del capital en inversión activa\n",
    "k = 1000000\n",
    "\n",
    "trace0 = go.Scatter(x=ajustes.index,y = (1+np.array(rr[1:]))*(k)+k*cash_p, mode = \"markers+lines\", name = \"Rendimiento en Periodos\")\n",
    "trace00 = go.Scatter(x=ajustes.index,y = (1+np.cumsum(rr[1:]))*k+k*cash_p, mode = \"markers+lines\", name = \"Rendimiento en Periodos Acumulado\")\n",
    "data0 = [trace0, trace00]\n",
    "layout0 = go.Layout(title  = \"Plot de rendimientos simples y acumulados (Gestión Activa)\",\n",
    "                   hovermode = \"closest\", xaxis = {\"title\":\"Rendimiento\"}, yaxis = {\"title\":\"Fechas\"})\n",
    "fig0 = go.Figure(data = data0, layout = layout0) \n",
    "pyo.plot(fig0, filename = \"Lines.html\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## PASO 2.4\n",
    "#### Historial de Operaciones"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<style  type=\"text/css\" >\n",
       "    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row0_col0 {\n",
       "            background-color:  #482475;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row0_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row0_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row0_col3 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row0_col4 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row1_col0 {\n",
       "            background-color:  #404588;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row1_col1 {\n",
       "            background-color:  #33628d;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row1_col2 {\n",
       "            background-color:  #460a5d;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row1_col3 {\n",
       "            background-color:  #2fb47c;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row1_col4 {\n",
       "            background-color:  #471063;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row2_col0 {\n",
       "            background-color:  #3a538b;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row2_col1 {\n",
       "            background-color:  #46337f;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row2_col2 {\n",
       "            background-color:  #471164;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row2_col3 {\n",
       "            background-color:  #1f9f88;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row2_col4 {\n",
       "            background-color:  #481b6d;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row3_col0 {\n",
       "            background-color:  #453882;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row3_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row3_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row3_col3 {\n",
       "            background-color:  #23888e;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row3_col4 {\n",
       "            background-color:  #482576;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row4_col0 {\n",
       "            background-color:  #3d4e8a;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row4_col1 {\n",
       "            background-color:  #3f4889;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row4_col2 {\n",
       "            background-color:  #470d60;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row4_col3 {\n",
       "            background-color:  #27ad81;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row4_col4 {\n",
       "            background-color:  #46307e;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row5_col0 {\n",
       "            background-color:  #443b84;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row5_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row5_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row5_col3 {\n",
       "            background-color:  #21908d;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row5_col4 {\n",
       "            background-color:  #443a83;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row6_col0 {\n",
       "            background-color:  #453781;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row6_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row6_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row6_col3 {\n",
       "            background-color:  #1f968b;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row6_col4 {\n",
       "            background-color:  #414487;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row7_col0 {\n",
       "            background-color:  #482173;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row7_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row7_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row7_col3 {\n",
       "            background-color:  #1f988b;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row7_col4 {\n",
       "            background-color:  #3d4e8a;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row8_col0 {\n",
       "            background-color:  #481769;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row8_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row8_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row8_col3 {\n",
       "            background-color:  #218f8d;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row8_col4 {\n",
       "            background-color:  #39558c;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row9_col0 {\n",
       "            background-color:  #34618d;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row9_col1 {\n",
       "            background-color:  #4cc26c;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row9_col2 {\n",
       "            background-color:  #450457;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row9_col3 {\n",
       "            background-color:  #25ab82;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row9_col4 {\n",
       "            background-color:  #34608d;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row10_col0 {\n",
       "            background-color:  #2e6f8e;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row10_col1 {\n",
       "            background-color:  #453781;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row10_col2 {\n",
       "            background-color:  #471063;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row10_col3 {\n",
       "            background-color:  #1f968b;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row10_col4 {\n",
       "            background-color:  #31688e;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row11_col0 {\n",
       "            background-color:  #31688e;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row11_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row11_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row11_col3 {\n",
       "            background-color:  #23898e;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row11_col4 {\n",
       "            background-color:  #2e6f8e;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row12_col0 {\n",
       "            background-color:  #414487;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row12_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row12_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row12_col3 {\n",
       "            background-color:  #29798e;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row12_col4 {\n",
       "            background-color:  #2b758e;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row13_col0 {\n",
       "            background-color:  #375a8c;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row13_col1 {\n",
       "            background-color:  #3e4c8a;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row13_col2 {\n",
       "            background-color:  #46085c;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row13_col3 {\n",
       "            background-color:  #26818e;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row13_col4 {\n",
       "            background-color:  #287c8e;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row14_col0 {\n",
       "            background-color:  #33638d;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row14_col1 {\n",
       "            background-color:  #482576;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row14_col2 {\n",
       "            background-color:  #471365;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row14_col3 {\n",
       "            background-color:  #277f8e;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row14_col4 {\n",
       "            background-color:  #26828e;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row15_col0 {\n",
       "            background-color:  #375a8c;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row15_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row15_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row15_col3 {\n",
       "            background-color:  #20928c;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row15_col4 {\n",
       "            background-color:  #23898e;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row16_col0 {\n",
       "            background-color:  #3d4e8a;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row16_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row16_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row16_col3 {\n",
       "            background-color:  #1f978b;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row16_col4 {\n",
       "            background-color:  #21918c;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row17_col0 {\n",
       "            background-color:  #404688;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row17_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row17_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row17_col3 {\n",
       "            background-color:  #21918c;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row17_col4 {\n",
       "            background-color:  #1f988b;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row18_col0 {\n",
       "            background-color:  #3b528b;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row18_col1 {\n",
       "            background-color:  #472d7b;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row18_col2 {\n",
       "            background-color:  #481668;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row18_col3 {\n",
       "            background-color:  #20a386;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row18_col4 {\n",
       "            background-color:  #1fa188;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row19_col0 {\n",
       "            background-color:  #46307e;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row19_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row19_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row19_col3 {\n",
       "            background-color:  #24878e;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row19_col4 {\n",
       "            background-color:  #22a785;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row20_col0 {\n",
       "            background-color:  #482878;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row20_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row20_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row20_col3 {\n",
       "            background-color:  #297b8e;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row20_col4 {\n",
       "            background-color:  #27ad81;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row21_col0 {\n",
       "            background-color:  #481c6e;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row21_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row21_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row21_col3 {\n",
       "            background-color:  #20928c;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row21_col4 {\n",
       "            background-color:  #31b57b;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row22_col0 {\n",
       "            background-color:  #481d6f;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row22_col1 {\n",
       "            background-color:  #440256;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row22_col2 {\n",
       "            background-color:  #fde725;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row22_col3 {\n",
       "            background-color:  #2cb17e;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row22_col4 {\n",
       "            background-color:  #40bd72;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row23_col0 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row23_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row23_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row23_col3 {\n",
       "            background-color:  #20a486;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row23_col4 {\n",
       "            background-color:  #52c569;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row24_col0 {\n",
       "            background-color:  #481467;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row24_col1 {\n",
       "            background-color:  #453581;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row24_col2 {\n",
       "            background-color:  #470e61;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row24_col3 {\n",
       "            background-color:  #23888e;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row24_col4 {\n",
       "            background-color:  #60ca60;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row25_col0 {\n",
       "            background-color:  #433d84;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row25_col1 {\n",
       "            background-color:  #2d718e;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row25_col2 {\n",
       "            background-color:  #46085c;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row25_col3 {\n",
       "            background-color:  #31b57b;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row25_col4 {\n",
       "            background-color:  #77d153;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row26_col0 {\n",
       "            background-color:  #1f958b;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row26_col1 {\n",
       "            background-color:  #fde725;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row26_col2 {\n",
       "            background-color:  #450559;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row26_col3 {\n",
       "            background-color:  #fde725;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row26_col4 {\n",
       "            background-color:  #a0da39;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row27_col0 {\n",
       "            background-color:  #1f9f88;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row27_col1 {\n",
       "            background-color:  #482979;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row27_col2 {\n",
       "            background-color:  #471365;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row27_col3 {\n",
       "            background-color:  #23888e;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row27_col4 {\n",
       "            background-color:  #b2dd2d;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row28_col0 {\n",
       "            background-color:  #20938c;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row28_col1 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row28_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row28_col3 {\n",
       "            background-color:  #29798e;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row28_col4 {\n",
       "            background-color:  #c2df23;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row29_col0 {\n",
       "            background-color:  #28ae80;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row29_col1 {\n",
       "            background-color:  #31678e;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row29_col2 {\n",
       "            background-color:  #46075a;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row29_col3 {\n",
       "            background-color:  #218f8d;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row29_col4 {\n",
       "            background-color:  #d8e219;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row30_col0 {\n",
       "            background-color:  #a0da39;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row30_col1 {\n",
       "            background-color:  #3bbb75;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row30_col2 {\n",
       "            background-color:  #450457;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row30_col3 {\n",
       "            background-color:  #1f978b;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row30_col4 {\n",
       "            background-color:  #ece51b;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row31_col0 {\n",
       "            background-color:  #fde725;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row31_col1 {\n",
       "            background-color:  #297b8e;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row31_col2 {\n",
       "            background-color:  #450559;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row31_col3 {\n",
       "            background-color:  #25858e;\n",
       "            color:  #000000;\n",
       "        }    #T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row31_col4 {\n",
       "            background-color:  #fde725;\n",
       "            color:  #000000;\n",
       "        }</style><table id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092\" ><thead>    <tr>        <th class=\"blank level0\" ></th>        <th class=\"col_heading level0 col0\" >titulos_totales</th>        <th class=\"col_heading level0 col1\" >titulos_compra</th>        <th class=\"col_heading level0 col2\" >precio</th>        <th class=\"col_heading level0 col3\" >comisión</th>        <th class=\"col_heading level0 col4\" >comision_acum</th>    </tr>    <tr>        <th class=\"index_name level0\" >timestamp</th>        <th class=\"blank\" ></th>        <th class=\"blank\" ></th>        <th class=\"blank\" ></th>        <th class=\"blank\" ></th>        <th class=\"blank\" ></th>    </tr></thead><tbody>\n",
       "                <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row0\" class=\"row_heading level0 row0\" >2018-01-31 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row0_col0\" class=\"data row0 col0\" >24297</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row0_col1\" class=\"data row0 col1\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row0_col2\" class=\"data row0 col2\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row0_col3\" class=\"data row0 col3\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row0_col4\" class=\"data row0 col4\" >0</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row1\" class=\"row_heading level0 row1\" >2018-02-28 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row1_col0\" class=\"data row1 col0\" >27609</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row1_col1\" class=\"data row1 col1\" >3312</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row1_col2\" class=\"data row1 col2\" >55.0733</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row1_col3\" class=\"data row1 col3\" >228.003</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row1_col4\" class=\"data row1 col4\" >228.003</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row2\" class=\"row_heading level0 row2\" >2018-03-28 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row2_col0\" class=\"data row2 col0\" >29157</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row2_col1\" class=\"data row2 col1\" >1548</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row2_col2\" class=\"data row2 col2\" >101.62</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row2_col3\" class=\"data row2 col3\" >196.635</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row2_col4\" class=\"data row2 col4\" >424.639</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row3\" class=\"row_heading level0 row3\" >2018-04-30 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row3_col0\" class=\"data row3 col0\" >26303</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row3_col1\" class=\"data row3 col1\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row3_col2\" class=\"data row3 col2\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row3_col3\" class=\"data row3 col3\" >163.336</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row3_col4\" class=\"data row3 col4\" >587.974</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row4\" class=\"row_heading level0 row4\" >2018-05-31 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row4_col0\" class=\"data row4 col0\" >28629</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row4_col1\" class=\"data row4 col1\" >2326</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row4_col2\" class=\"data row4 col2\" >74.7589</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row4_col3\" class=\"data row4 col3\" >217.362</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row4_col4\" class=\"data row4 col4\" >805.336</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row5\" class=\"row_heading level0 row5\" >2018-06-29 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row5_col0\" class=\"data row5 col0\" >26705</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row5_col1\" class=\"data row5 col1\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row5_col2\" class=\"data row5 col2\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row5_col3\" class=\"data row5 col3\" >174.466</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row5_col4\" class=\"data row5 col4\" >979.802</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row6\" class=\"row_heading level0 row6\" >2018-07-31 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row6_col0\" class=\"data row6 col0\" >26179</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row6_col1\" class=\"data row6 col1\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row6_col2\" class=\"data row6 col2\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row6_col3\" class=\"data row6 col3\" >183.892</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row6_col4\" class=\"data row6 col4\" >1163.69</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row7\" class=\"row_heading level0 row7\" >2018-08-31 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row7_col0\" class=\"data row7 col0\" >24042</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row7_col1\" class=\"data row7 col1\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row7_col2\" class=\"data row7 col2\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row7_col3\" class=\"data row7 col3\" >186.452</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row7_col4\" class=\"data row7 col4\" >1350.15</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row8\" class=\"row_heading level0 row8\" >2018-09-28 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row8_col0\" class=\"data row8 col0\" >23144</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row8_col1\" class=\"data row8 col1\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row8_col2\" class=\"data row8 col2\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row8_col3\" class=\"data row8 col3\" >172.339</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row8_col4\" class=\"data row8 col4\" >1522.48</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row9\" class=\"row_heading level0 row9\" >2018-10-31 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row9_col0\" class=\"data row9 col0\" >30799</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row9_col1\" class=\"data row9 col1\" >7655</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row9_col2\" class=\"data row9 col2\" >22.2849</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row9_col3\" class=\"data row9 col3\" >213.238</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row9_col4\" class=\"data row9 col4\" >1735.72</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row10\" class=\"row_heading level0 row10\" >2018-11-30 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row10_col0\" class=\"data row10 col0\" >32478</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row10_col1\" class=\"data row10 col1\" >1679</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row10_col2\" class=\"data row10 col2\" >87.3984</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row10_col3\" class=\"data row10 col3\" >183.427</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row10_col4\" class=\"data row10 col4\" >1919.15</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row11\" class=\"row_heading level0 row11\" >2018-12-31 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row11_col0\" class=\"data row11 col0\" >31603</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row11_col1\" class=\"data row11 col1\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row11_col2\" class=\"data row11 col2\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row11_col3\" class=\"data row11 col3\" >164.116</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row11_col4\" class=\"data row11 col4\" >2083.27</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row12\" class=\"row_heading level0 row12\" >2019-01-31 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row12_col0\" class=\"data row12 col0\" >27488</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row12_col1\" class=\"data row12 col1\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row12_col2\" class=\"data row12 col2\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row12_col3\" class=\"data row12 col3\" >141.439</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row12_col4\" class=\"data row12 col4\" >2224.71</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row13\" class=\"row_heading level0 row13\" >2019-02-28 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row13_col0\" class=\"data row13 col0\" >29904</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row13_col1\" class=\"data row13 col1\" >2416</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row13_col2\" class=\"data row13 col2\" >50.3772</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row13_col3\" class=\"data row13 col3\" >152.139</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row13_col4\" class=\"data row13 col4\" >2376.84</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row14\" class=\"row_heading level0 row14\" >2019-03-29 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row14_col0\" class=\"data row14 col0\" >30991</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row14_col1\" class=\"data row14 col1\" >1087</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row14_col2\" class=\"data row14 col2\" >110.473</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row14_col3\" class=\"data row14 col3\" >150.105</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row14_col4\" class=\"data row14 col4\" >2526.95</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row15\" class=\"row_heading level0 row15\" >2019-04-30 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row15_col0\" class=\"data row15 col0\" >29943</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row15_col1\" class=\"data row15 col1\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row15_col2\" class=\"data row15 col2\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row15_col3\" class=\"data row15 col3\" >177.345</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row15_col4\" class=\"data row15 col4\" >2704.29</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row16\" class=\"row_heading level0 row16\" >2019-05-31 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row16_col0\" class=\"data row16 col0\" >28634</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row16_col1\" class=\"data row16 col1\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row16_col2\" class=\"data row16 col2\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row16_col3\" class=\"data row16 col3\" >184.822</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row16_col4\" class=\"data row16 col4\" >2889.12</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row17\" class=\"row_heading level0 row17\" >2019-06-28 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row17_col0\" class=\"data row17 col0\" >27777</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row17_col1\" class=\"data row17 col1\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row17_col2\" class=\"data row17 col2\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row17_col3\" class=\"data row17 col3\" >174.827</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row17_col4\" class=\"data row17 col4\" >3063.94</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row18\" class=\"row_heading level0 row18\" >2019-07-31 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row18_col0\" class=\"data row18 col0\" >29117</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row18_col1\" class=\"data row18 col1\" >1340</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row18_col2\" class=\"data row18 col2\" >120.991</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row18_col3\" class=\"data row18 col3\" >202.66</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row18_col4\" class=\"data row18 col4\" >3266.6</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row19\" class=\"row_heading level0 row19\" >2019-08-30 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row19_col0\" class=\"data row19 col0\" >25565</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row19_col1\" class=\"data row19 col1\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row19_col2\" class=\"data row19 col2\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row19_col3\" class=\"data row19 col3\" >162.225</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row19_col4\" class=\"data row19 col4\" >3428.83</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row20\" class=\"row_heading level0 row20\" >2019-09-30 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row20_col0\" class=\"data row20 col0\" >24680</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row20_col1\" class=\"data row20 col1\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row20_col2\" class=\"data row20 col2\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row20_col3\" class=\"data row20 col3\" >143.494</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row20_col4\" class=\"data row20 col4\" >3572.32</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row21\" class=\"row_heading level0 row21\" >2019-10-31 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row21_col0\" class=\"data row21 col0\" >23634</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row21_col1\" class=\"data row21 col1\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row21_col2\" class=\"data row21 col2\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row21_col3\" class=\"data row21 col3\" >177.075</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row21_col4\" class=\"data row21 col4\" >3749.4</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row22\" class=\"row_heading level0 row22\" >2019-11-29 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row22_col0\" class=\"data row22 col0\" >23715</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row22_col1\" class=\"data row22 col1\" >81</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row22_col2\" class=\"data row22 col2\" >2202.14</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row22_col3\" class=\"data row22 col3\" >222.966</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row22_col4\" class=\"data row22 col4\" >3972.36</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row23\" class=\"row_heading level0 row23\" >2019-12-31 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row23_col0\" class=\"data row23 col0\" >21224</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row23_col1\" class=\"data row23 col1\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row23_col2\" class=\"data row23 col2\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row23_col3\" class=\"data row23 col3\" >204.499</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row23_col4\" class=\"data row23 col4\" >4176.86</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row24\" class=\"row_heading level0 row24\" >2020-01-31 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row24_col0\" class=\"data row24 col0\" >22866</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row24_col1\" class=\"data row24 col1\" >1642</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row24_col2\" class=\"data row24 col2\" >79.2337</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row24_col3\" class=\"data row24 col3\" >162.627</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row24_col4\" class=\"data row24 col4\" >4339.49</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row25\" class=\"row_heading level0 row25\" >2020-02-28 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row25_col0\" class=\"data row25 col0\" >26817</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row25_col1\" class=\"data row25 col1\" >3951</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row25_col2\" class=\"data row25 col2\" >46.3706</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row25_col3\" class=\"data row25 col3\" >229.013</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row25_col4\" class=\"data row25 col4\" >4568.5</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row26\" class=\"row_heading level0 row26\" >2020-03-31 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row26_col0\" class=\"data row26 col0\" >37477</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row26_col1\" class=\"data row26 col1\" >10660</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row26_col2\" class=\"data row26 col2\" >26.239</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row26_col3\" class=\"data row26 col3\" >349.635</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row26_col4\" class=\"data row26 col4\" >4918.14</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row27\" class=\"row_heading level0 row27\" >2020-04-30 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row27_col0\" class=\"data row27 col0\" >38692</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row27_col1\" class=\"data row27 col1\" >1215</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row27_col2\" class=\"data row27 col2\" >107.555</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row27_col3\" class=\"data row27 col3\" >163.349</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row27_col4\" class=\"data row27 col4\" >5081.49</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row28\" class=\"row_heading level0 row28\" >2020-05-29 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row28_col0\" class=\"data row28 col0\" >37246</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row28_col1\" class=\"data row28 col1\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row28_col2\" class=\"data row28 col2\" >0</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row28_col3\" class=\"data row28 col3\" >141.508</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row28_col4\" class=\"data row28 col4\" >5223</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row29\" class=\"row_heading level0 row29\" >2020-06-30 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row29_col0\" class=\"data row29 col0\" >40776</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row29_col1\" class=\"data row29 col1\" >3530</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row29_col2\" class=\"data row29 col2\" >39.1436</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row29_col3\" class=\"data row29 col3\" >172.721</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row29_col4\" class=\"data row29 col4\" >5395.72</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row30\" class=\"row_heading level0 row30\" >2020-07-31 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row30_col0\" class=\"data row30 col0\" >48046</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row30_col1\" class=\"data row30 col1\" >7270</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row30_col2\" class=\"data row30 col2\" >20.3191</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row30_col3\" class=\"data row30 col3\" >184.65</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row30_col4\" class=\"data row30 col4\" >5580.37</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092level0_row31\" class=\"row_heading level0 row31\" >2020-08-21 00:00:00</th>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row31_col0\" class=\"data row31 col0\" >52447</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row31_col1\" class=\"data row31 col1\" >4401</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row31_col2\" class=\"data row31 col2\" >29.0061</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row31_col3\" class=\"data row31 col3\" >159.57</td>\n",
       "                        <td id=\"T_279aa7c2_f5f8_11ea_9c22_548ca0f96092row31_col4\" class=\"data row31 col4\" >5739.94</td>\n",
       "            </tr>\n",
       "    </tbody></table>"
      ],
      "text/plain": [
       "<pandas.io.formats.style.Styler at 0x227061e6cf8>"
      ]
     },
     "execution_count": 33,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Posiciones que se tienen en todo momento\n",
    "posiciones = ((ponderaciones_completas*k).values/(Final.T)).apply(np.floor)\n",
    "# Posiciones en todo momento\n",
    "suma_de_posiciones = posiciones.sum(axis = 0)\n",
    "# Títulos comprados en cada rebalanceo\n",
    "compra_titulos = (posiciones-posiciones.shift(axis = 1))[posiciones-posiciones.shift(axis = 1)>0].sum(axis = 0)\n",
    "comisiones_por_movimiento = pd.DataFrame(((Final.T*((posiciones-posiciones.shift(axis = 1))[posiciones-posiciones.shift(axis = 1)>0])).sum(axis = 0))*.00125)\n",
    "# Renombrar columna\n",
    "comisiones_por_movimiento.columns = [\"Comisión\"]\n",
    "# Establecer columnas\n",
    "columns = [\"timestamp\",\"titulos_totales\",\"titulos_compra\",\"precio\",\"comisión\",\"comision_acum\"]\n",
    "historico = pd.DataFrame(columns = columns)\n",
    "historico[\"timestamp\"] = suma_de_posiciones.index.values\n",
    "historico[\"titulos_totales\"] = suma_de_posiciones.values\n",
    "historico[\"titulos_compra\"] = np.concatenate(pd.DataFrame((pd.DataFrame(suma_de_posiciones)-pd.DataFrame(suma_de_posiciones).shift())[0].apply(lambda x: x if x>0 else 0)).values.tolist())\n",
    "historico[\"comisión\"] = comisiones_por_movimiento.values\n",
    "historico[\"precio\"] = [d/(l*.00125) if (l!=0) & (d!=0) else 0 for l,d in zip(historico[\"titulos_compra\"].values,historico[\"comisión\"].values)]\n",
    "historico[\"comision_acum\"] = np.cumsum(historico[\"comisión\"])\n",
    "historico.set_index(\"timestamp\", inplace = True)\n",
    "historico.style.background_gradient(cmap='viridis')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## PASO 2.5\n",
    "#### Medidas de Atribución al Desempeño"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<style  type=\"text/css\" >\n",
       "    #T_27bf452c_f5f8_11ea_9466_548ca0f96092row0_col2 {\n",
       "            background-color:  #471365;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_27bf452c_f5f8_11ea_9466_548ca0f96092row0_col3 {\n",
       "            background-color:  #f8e621;\n",
       "            color:  #000000;\n",
       "        }    #T_27bf452c_f5f8_11ea_9466_548ca0f96092row1_col2 {\n",
       "            background-color:  #fde725;\n",
       "            color:  #000000;\n",
       "        }    #T_27bf452c_f5f8_11ea_9466_548ca0f96092row1_col3 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_27bf452c_f5f8_11ea_9466_548ca0f96092row2_col2 {\n",
       "            background-color:  #440154;\n",
       "            color:  #f1f1f1;\n",
       "        }    #T_27bf452c_f5f8_11ea_9466_548ca0f96092row2_col3 {\n",
       "            background-color:  #fde725;\n",
       "            color:  #000000;\n",
       "        }</style><table id=\"T_27bf452c_f5f8_11ea_9466_548ca0f96092\" ><thead>    <tr>        <th class=\"blank level0\" ></th>        <th class=\"col_heading level0 col0\" >medida</th>        <th class=\"col_heading level0 col1\" >descripcion</th>        <th class=\"col_heading level0 col2\" >inv_activa</th>        <th class=\"col_heading level0 col3\" >inv_pasiva</th>    </tr></thead><tbody>\n",
       "                <tr>\n",
       "                        <th id=\"T_27bf452c_f5f8_11ea_9466_548ca0f96092level0_row0\" class=\"row_heading level0 row0\" >0</th>\n",
       "                        <td id=\"T_27bf452c_f5f8_11ea_9466_548ca0f96092row0_col0\" class=\"data row0 col0\" >rend_m</td>\n",
       "                        <td id=\"T_27bf452c_f5f8_11ea_9466_548ca0f96092row0_col1\" class=\"data row0 col1\" >Rendimiento Promedio Mensual</td>\n",
       "                        <td id=\"T_27bf452c_f5f8_11ea_9466_548ca0f96092row0_col2\" class=\"data row0 col2\" >0.0189456</td>\n",
       "                        <td id=\"T_27bf452c_f5f8_11ea_9466_548ca0f96092row0_col3\" class=\"data row0 col3\" >-0.0041086</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_27bf452c_f5f8_11ea_9466_548ca0f96092level0_row1\" class=\"row_heading level0 row1\" >1</th>\n",
       "                        <td id=\"T_27bf452c_f5f8_11ea_9466_548ca0f96092row1_col0\" class=\"data row1 col0\" >rend_c</td>\n",
       "                        <td id=\"T_27bf452c_f5f8_11ea_9466_548ca0f96092row1_col1\" class=\"data row1 col1\" >Rendimiento mensual acumulado</td>\n",
       "                        <td id=\"T_27bf452c_f5f8_11ea_9466_548ca0f96092row1_col2\" class=\"data row1 col2\" >0.245647</td>\n",
       "                        <td id=\"T_27bf452c_f5f8_11ea_9466_548ca0f96092row1_col3\" class=\"data row1 col3\" >-0.0958715</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_27bf452c_f5f8_11ea_9466_548ca0f96092level0_row2\" class=\"row_heading level0 row2\" >2</th>\n",
       "                        <td id=\"T_27bf452c_f5f8_11ea_9466_548ca0f96092row2_col0\" class=\"data row2 col0\" >sharpe</td>\n",
       "                        <td id=\"T_27bf452c_f5f8_11ea_9466_548ca0f96092row2_col1\" class=\"data row2 col1\" >Sharpe Ratio</td>\n",
       "                        <td id=\"T_27bf452c_f5f8_11ea_9466_548ca0f96092row2_col2\" class=\"data row2 col2\" >0.0077171</td>\n",
       "                        <td id=\"T_27bf452c_f5f8_11ea_9466_548ca0f96092row2_col3\" class=\"data row2 col3\" >-0.00329962</td>\n",
       "            </tr>\n",
       "    </tbody></table>"
      ],
      "text/plain": [
       "<pandas.io.formats.style.Styler at 0x227061e2cc0>"
      ]
     },
     "execution_count": 34,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "desempeno = pd.DataFrame(columns= ['medida', 'descripcion', 'inv_activa', 'inv_pasiva'])\n",
    "desempeno[\"medida\"] = [\"rend_m\",\"rend_c\",\"sharpe\"]\n",
    "desempeno[\"descripcion\"] = [\"Rendimiento Promedio Mensual\", \"Rendimiento mensual acumulado\", \"Sharpe Ratio\"]\n",
    "desempeno[\"inv_pasiva\"] = [np.array(rends).sum()/tablaa.shape[0],np.cumsum(tablaa[\"Rend_Acum\"])[-1]/(tablaa.shape[0]),(np.cumsum(tablaa[\"Rend_Acum\"])[-1]/(tablaa.shape[0])-rf/12)/len(volatilidades.sum(axis = 0))]\n",
    "desempeno[\"inv_activa\"] = [np.array(ss).sum()/Tabla.shape[0],np.cumsum(Tabla[\"Rend_Acum\"])[-1]/(Tabla.shape[0]),(np.cumsum(Tabla[\"Rend_Acum\"])[-1]/(Tabla.shape[0])-rf/12)/len(volatilidades.sum(axis = 0))]\n",
    "desempeno.style.background_gradient(cmap='viridis')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<font color= #6B6B6B> <font size = 6> 5. Conclusiones </font>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [],
   "source": [
    "# en esta seccion es opcional incluir algun codigo para mostrar\n",
    "# visualmente algun concepto o hallazgo relevante como conclusion"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Inversión Pasiva"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/vnd.plotly.v1+json": {
       "config": {
        "plotlyServerURL": "https://plot.ly"
       },
       "data": [
        {
         "mode": "markers+lines",
         "name": "Rendimiento en Periodos",
         "type": "scatter",
         "uid": "45661ec8-818d-4828-b9bb-94c60c3f6518",
         "x": [
          "2018-02-28",
          "2018-03-28",
          "2018-04-30",
          "2018-05-31",
          "2018-06-29",
          "2018-07-31",
          "2018-08-31",
          "2018-09-28",
          "2018-10-31",
          "2018-11-30",
          "2018-12-31",
          "2019-01-31",
          "2019-02-28",
          "2019-03-29",
          "2019-04-30",
          "2019-05-31",
          "2019-06-28",
          "2019-07-31",
          "2019-08-30",
          "2019-09-30",
          "2019-10-31",
          "2019-11-29",
          "2019-12-31",
          "2020-01-31",
          "2020-02-28",
          "2020-03-31",
          "2020-04-30",
          "2020-05-29",
          "2020-06-30",
          "2020-07-31",
          "2020-08-21"
         ],
         "y": [
          986445.9025296159,
          1014130.7144084123,
          1090855.7798428019,
          971506.9223616467,
          1115007.2178134024,
          1081902.5835909997,
          1042180.3993504016,
          1037698.7538654351,
          934889.0939462336,
          998409.6663857641,
          1037752.7327044607,
          1098337.5399880903,
          1017530.5095243641,
          1047082.5318510588,
          1063294.1474247025,
          1003347.6913209371,
          1054236.6694821944,
          993470.7763894025,
          1088715.9891173725,
          1054694.3496694493,
          1052696.626642484,
          1035125.5155733,
          1059510.7563426998,
          1050921.2525006013,
          970833.0764579709,
          873351.7432936617,
          1109565.534069146,
          1043918.3963231667,
          1096561.3910116027,
          1032921.6603599571,
          1076428.7335098763
         ]
        },
        {
         "mode": "markers+lines",
         "name": "Rendimiento en Periodos Acumulado",
         "type": "scatter",
         "uid": "a98fef1e-6118-413e-a44e-6e8c6f301c72",
         "x": [
          "2018-02-28",
          "2018-03-28",
          "2018-04-30",
          "2018-05-31",
          "2018-06-29",
          "2018-07-31",
          "2018-08-31",
          "2018-09-28",
          "2018-10-31",
          "2018-11-30",
          "2018-12-31",
          "2019-01-31",
          "2019-02-28",
          "2019-03-29",
          "2019-04-30",
          "2019-05-31",
          "2019-06-28",
          "2019-07-31",
          "2019-08-30",
          "2019-09-30",
          "2019-10-31",
          "2019-11-29",
          "2019-12-31",
          "2020-01-31",
          "2020-02-28",
          "2020-03-31",
          "2020-04-30",
          "2020-05-29",
          "2020-06-30",
          "2020-07-31",
          "2020-08-21"
         ],
         "y": [
          986445.9025296159,
          959776.6169380283,
          1009832.3967808301,
          940539.3191424768,
          1014746.5369558791,
          1055849.1205468788,
          1057229.5198972803,
          1054128.2737627155,
          948217.3677089491,
          905827.0340947133,
          902779.766799174,
          960317.3067872642,
          937047.8163116284,
          943330.3481626872,
          965824.4955873899,
          928372.186908327,
          941808.8563905213,
          894479.6327799237,
          942395.6218972963,
          956289.9715667455,
          968186.5982092296,
          962512.1137825296,
          981222.8701252291,
          991344.1226258305,
          921377.1990838012,
          753928.9423774631,
          822694.476446609,
          825812.8727697758,
          881574.2637813784,
          873695.9241413357,
          909324.6576512121
         ]
        }
       ],
       "layout": {
        "hovermode": "closest",
        "title": {
         "text": "Plot de rendimientos simples y acumulados"
        },
        "xaxis": {
         "title": {
          "text": "Rendimiento"
         }
        },
        "yaxis": {
         "title": {
          "text": "Fechas"
         }
        }
       }
      }
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "k = 1000000\n",
    "\n",
    "trace = go.Scatter(x=precios.index[1:],y = (1+np.array(rends[1:]))*(k)+k*cash_proporcion, mode = \"markers+lines\", name = \"Rendimiento en Periodos\")\n",
    "trace1 = go.Scatter(x=precios.index[1:],y = (1+np.cumsum(rends[1:]))*k+k*cash_proporcion, mode = \"markers+lines\", name = \"Rendimiento en Periodos Acumulado\")\n",
    "data = [trace, trace1]\n",
    "layout = go.Layout(title  = \"Plot de rendimientos simples y acumulados\",\n",
    "                   hovermode = \"closest\", xaxis = {\"title\":\"Rendimiento\"}, yaxis = {\"title\":\"Fechas\"})\n",
    "fig = go.Figure(data = data, layout = layout) \n",
    "fig.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Tener una inversión pasiva puede conllevar a tener un resulado inesperado (algunas veces negativo). Se recomienda tener una mayor gestión sobre el portafolio sin descuidar las comisiones que ello puede conllevar."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Inversión Activa"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/vnd.plotly.v1+json": {
       "config": {
        "plotlyServerURL": "https://plot.ly"
       },
       "data": [
        {
         "mode": "markers+lines",
         "name": "Rendimiento en Periodos",
         "type": "scatter",
         "uid": "8e662f59-8330-4b83-a263-9d7ef8149323",
         "x": [
          "2018-02-28",
          "2018-03-28",
          "2018-04-30",
          "2018-05-31",
          "2018-06-29",
          "2018-07-31",
          "2018-08-31",
          "2018-09-28",
          "2018-10-31",
          "2018-11-30",
          "2018-12-31",
          "2019-01-31",
          "2019-02-28",
          "2019-03-29",
          "2019-04-30",
          "2019-05-31",
          "2019-06-28",
          "2019-07-31",
          "2019-08-30",
          "2019-09-30",
          "2019-10-31",
          "2019-11-29",
          "2019-12-31",
          "2020-01-31",
          "2020-02-28",
          "2020-03-31",
          "2020-04-30",
          "2020-05-29",
          "2020-06-30",
          "2020-07-31",
          "2020-08-21"
         ],
         "y": [
          1003704.2367829534,
          1035251.6442583383,
          1081094.8204204594,
          1003922.1616113647,
          1109307.1691649614,
          1121579.0217368577,
          1078688.6055328916,
          1063583.9606673624,
          945833.5545715394,
          1027437.9713968278,
          1069545.9070719448,
          1138715.5125895254,
          1068933.1250589362,
          1064648.3295472031,
          1078359.0843890235,
          1040517.4246920687,
          1087399.7465531044,
          1007891.6616287276,
          1096845.1723134778,
          1090391.0575957058,
          1087831.132244779,
          1035326.6914177269,
          1065446.6408455211,
          1083213.9414125055,
          959381.3400007361,
          845765.1155201585,
          1168634.5244183962,
          1107821.8003567008,
          1140073.7419027388,
          1061748.1887363116,
          1114218.826775005
         ]
        },
        {
         "mode": "markers+lines",
         "name": "Rendimiento en Periodos Acumulado",
         "type": "scatter",
         "uid": "186abfc5-8355-483e-b941-0d41eea25c49",
         "x": [
          "2018-02-28",
          "2018-03-28",
          "2018-04-30",
          "2018-05-31",
          "2018-06-29",
          "2018-07-31",
          "2018-08-31",
          "2018-09-28",
          "2018-10-31",
          "2018-11-30",
          "2018-12-31",
          "2019-01-31",
          "2019-02-28",
          "2019-03-29",
          "2019-04-30",
          "2019-05-31",
          "2019-06-28",
          "2019-07-31",
          "2019-08-30",
          "2019-09-30",
          "2019-10-31",
          "2019-11-29",
          "2019-12-31",
          "2020-01-31",
          "2020-02-28",
          "2020-03-31",
          "2020-04-30",
          "2020-05-29",
          "2020-06-30",
          "2020-07-31",
          "2020-08-21"
         ],
         "y": [
          1003704.2367829534,
          997155.8810412914,
          1036450.7014617508,
          998572.8630731152,
          1066080.0322380767,
          1145859.0539749342,
          1182747.6595078255,
          1204531.620175188,
          1108565.1747467278,
          1094203.1461435554,
          1121949.0532155004,
          1218864.5658050256,
          1245997.690863962,
          1268846.020411165,
          1305405.1048001884,
          1304122.5294922572,
          1349722.2760453615,
          1315813.937674089,
          1370859.1099875672,
          1419450.1675832728,
          1465481.2998280518,
          1459007.9912457787,
          1482654.6320912999,
          1524068.5735038053,
          1441649.9135045412,
          1245615.0290247,
          1372449.5534430959,
          1438471.3537997967,
          1536745.0957025355,
          1556693.2844388469,
          1629112.1112138522
         ]
        }
       ],
       "layout": {
        "hovermode": "closest",
        "title": {
         "text": "Plot de rendimientos simples y acumulados (Gestión Activa)"
        },
        "xaxis": {
         "title": {
          "text": "Rendimiento"
         }
        },
        "yaxis": {
         "title": {
          "text": "Fechas"
         }
        }
       }
      }
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "# -- graficas de evolución del capital en inversión activa\n",
    "k = 1000000\n",
    "\n",
    "trace0 = go.Scatter(x=ajustes.index,y = (1+np.array(rr[1:]))*(k)+k*cash_p, mode = \"markers+lines\", name = \"Rendimiento en Periodos\")\n",
    "trace00 = go.Scatter(x=ajustes.index,y = (1+np.cumsum(rr[1:]))*k+k*cash_p, mode = \"markers+lines\", name = \"Rendimiento en Periodos Acumulado\")\n",
    "data0 = [trace0, trace00]\n",
    "layout0 = go.Layout(title  = \"Plot de rendimientos simples y acumulados (Gestión Activa)\",\n",
    "                   hovermode = \"closest\", xaxis = {\"title\":\"Rendimiento\"}, yaxis = {\"title\":\"Fechas\"})\n",
    "fig0 = go.Figure(data = data0, layout = layout0) \n",
    "fig0.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Una gestión activa del portafolio conllevó a un resultado óptimo en el beneficio o utilidad durante el periodo. Se recomienda una gestión activa del portafolio sin descuidar las comisiones que esto conlleva, pues se puede perder utilidad si se está comprando demasiadas posiciones."
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 1
}
